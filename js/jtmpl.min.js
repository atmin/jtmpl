/*! jtmpl 07-11-2013 */
!function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;y=("undefined"!=typeof exports&&null!==exports?exports:this).jtmpl=function(b,f,g,h){var i,j,l,m;if((null===b||"string"==typeof b)&&null==f){if("undefined"==typeof document||null===document)throw new Error(":( this API is only available in a browser");return k.call(document.querySelectorAll(b))}if("string"!=typeof b||"number"!=(m=typeof f)&&"string"!==m&&"boolean"!==m&&"object"!==m||void 0!==g&&null!==g||(g=f,f=b,b=void 0),"string"==typeof b&&b.match(d)&&(b=document.getElementById(b.substring(1))),null==g)throw new Error(":( no model");return f.match&&f.match(d)&&(f=document.getElementById(f.substring(1)).innerHTML),h=h||{},h.delimiters=(h.delimiters||"{{ }}").split(" "),h.compiledDelimiters=(h.compiledDelimiters||"<<< >>>").split(" "),h.defaultSection=h.defaultSectionTag||"div",h.defaultSectionItem=h.defaultSectionItem||"div",h.defaultVar=h.defaultVar||"span",h.defaultTargetTag=h.defaultTargetTag||"div",i=h.delimiters,f=(""+f).replace(B("{{{ ("+c+") }}}"),i[0]+"&$1"+i[1]).replace(B("<!-- "+e+" ({{ "+a+" }}) "+e+" -->",i),"$1").replace(B("("+c+")='({{ "+c+" }})'",i),"$1=$2").replace(B("("+c+')="({{ '+c+' }})"',i),"$1=$2").replace(B("\\n "+e+" ({{ "+a+" }}) "+e+" \\n",i),"\n$1\n"),j=y.compile(f,g,null,!1,h),b?("SCRIPT"===b.nodeName&&(l=document.createElement(h.defaultTargetTag),b.parentNode.replaceChild(l,b),b=l),b.innerHTML=j,y.bind(b,g)):j},c="[\\w\\.\\-]+",d="^#[\\w\\.\\-]+$",a="[\\s\\S]*?",e="\\s*",b='(?: ( \\s* data-jt = " [^"]* )" )?',y.preprocessingRules=[{pattern:"",replaceWith:""},{pattern:"",replaceWith:""},{pattern:"",replaceWith:""}],y.compileRules=[{pattern:'(class="? [\\w \\. \\- \\s {{}}]*) {{ ('+c+") }}$",replaceWith:function(a,b,c){var d;return d=c[b],[(-1===a.search("{")&&a||" ")+("boolean"==typeof d&&d&&b||""),[]]},echoReplaceWith:function(a,b){return a.search("{")>-1?" {{"+b+"}}":null},bindingToken:function(a,b){return"class="+b}},{pattern:"on("+c+") = {{ ("+c+") }}$",replaceWith:function(){return["",[]]},bindingToken:function(a,b){return"on"+a+"="+b}},{pattern:"("+c+") = {{ ("+c+") }}$",replaceWith:function(a,b,c){var d;return d=c[b],null==d||null===d?["",[]]:"boolean"==typeof d?[d?a:"",[]]:[""+a+'="'+d+'"',[]]},bindingToken:function(a,b){return""+a+"="+b}},{pattern:"{{ \\^ ("+c+") }}$",wrapper:"defaultSection",contents:function(a,b,c,d){var e;return e=b[c],Array.isArray(e)?["<!-- ^ "+A(a,d.delimiters,d.compiledDelimiters)+" -->",+(e.length?"":y(a,b)),[]]:[y(a,b),e?[["style","display:none"]]:[]]},bindingToken:function(a){return"^"+a}},{pattern:"{{ \\# ("+c+") }}$",wrapper:"defaultSection",contents:function(a,b,c,d){var e,f;return f=b[c],Array.isArray(f)?["<!-- # "+A(a,d.delimiters,d.compiledDelimiters)+" -->"+function(){var b,c,d;for(d=[],b=0,c=f.length;c>b;b++)e=f[b],d.push(y(a,e,null,{asArrayItem:!0}));return d}().join(""),[]]:"object"==typeof f?[y(a,f),[]]:[y(a,b),f?[]:[["style","display:none"]]]},bindingToken:function(a){return"#"+a}},{pattern:"{{ & ("+c+") }}$",wrapper:"defaultVar",replaceWith:function(a,b){return["."===a&&b||b[a],[]]},bindingToken:function(a){return a}},{pattern:"{{ ("+c+") }}$",wrapper:"defaultVar",replaceWith:function(a,b){return[s("."===a&&b||b[a]),[]]},bindingToken:function(a){return a}}],o=[{pattern:"(value | checked | selected) = ("+c+")",react:function(a,b,c,d){return"OPTION"===a.nodeName&&a.parentNode.querySelector("option")===a&&a.parentNode.addEventListener("change",function(){var b,e,f,g,h,i;for(b=0,h=a.parentNode.children,i=[],f=0,g=h.length;g>f;f++)e=h[f],"OPTION"===e.nodeName?(d[c]=e.selected,i.push(b++)):i.push(void 0);return i}),"radio"===a.type&&a.name&&a.addEventListener("change",function(){var e,f,g,h;if(a[b])for(h=document.querySelectorAll("input[type=radio][name="+a.name+"]"),f=0,g=h.length;g>f;f++)e=h[f],e!==a&&e.dispatchEvent(new Event("change"));return d[c]=a[b]}),"text"===a.type?a.addEventListener("input",function(){return d[c]=a[b]}):a.addEventListener("change",function(){return d[c]=a[b]}),function(c){return a[b]!==c?a[b]=c:void 0}}},{pattern:"class = ("+c+")",react:function(a,b){return function(c){return(c&&addClass||removeClass)(a,b)}}},{pattern:"("+c+") = "+c,react:function(a,b){return function(c){return a[b]!==c?a[b]=c:void 0}}},{pattern:""+c,react:function(a){return function(b){return a.innerHTML=b}}}],y.compile=function(b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,A,C,D,E;for(t=B("{{ (/?) ("+a+") }}",f.delimiters),n="",l=0;s=t.exec(b);){if(s[1]){if(s[2]!==d)throw new Error(d&&":( expected {{/"+d+"}}, got {{"+s[2]+"}}"||":( unexpected {{/"+s[2]+"}}");return n+b.slice(l,t.lastIndex-s[0].length)}for(p=b.slice(Math.max(0,l-128),t.lastIndex),C=y.compileRules,v=0,A=C.length;A>v;v++)if(o=C[v],k=B(o.pattern,f.delimiters).exec(p)){n+=b.slice(l,t.lastIndex-k[0].length),j=z(n),g=o.bindingToken.apply(o,k.slice(1)),null!=o.replaceWith?(e?n+=("function"==typeof o.echoReplaceWith?o.echoReplaceWith.apply(o,k.slice(1)):void 0)||k[0]:(D=o.replaceWith.apply(o,k.slice(1).concat([c])),m=D[0],u=D[1],-1===j&&null!=o.wrapper?(q=f[o.wrapper],n+=w("<"+q+">"+m+"</"+q+">",g,u)):(n+=m,n=n.slice(0,j)+w(n.slice(j),g,u))),l=t.lastIndex):(r=y.compile(b.slice(t.lastIndex),c,k[1],!0,f),t.lastIndex+=r.length,h=t.exec(b),l=t.lastIndex,e?n+=s[0]+r+h[0]:(E=o.contents(r,c,k[1],f),i=E[0],u=E[1],-1===j?(q=f[o.wrapper],n+=w("<"+q+">"+i+"</"+q+">",g,u)):n=n.slice(0,j)+w(n.slice(j),g,u)+i.trim()));break}}return n+=b.slice(l),f.asArrayItem?x(n)?n:(q=f.defaultSectionItem,"<"+q+">"+n+"</"+q+">"):n},w=function(d,f,g){var h,i,j,k;return i=B("^ ("+e+" < "+c+") ("+a+") "+b).exec(d),h=(i[3]||"").length,k=i[1].length+i[2].length+h,d.slice(0,k)+(f?h?('data-jt="'===i[3].trim()?"":" ")+f:' data-jt="'+f+'"':"")+function(){var a,b,c;for(c=[],a=0,b=g.length;b>a;a++)j=g[a],c.push(" "+j[0]+'="'+j[1]+'"');return c}().join("")+d.slice(k)},z=function(a){return a.trimRight().search(B("< "+c+" [^>]*? >?$"))},x=function(b){return!!b.trim().match(B("^<("+c+") "+e+"        [^>]*? > "+a+" </\\1>$ | < [^>]*? />$"))},y.bind=function(a){var b,c,d,e,f,g;for(b=0,d=null,g=a.childNodes,e=0,f=g.length;f>e;e++)switch(c=g[e],c.nodeType){case c.ELEMENT_NODE:break;case c.COMMENT_NODE:}return c},f=Array.prototype,k=f.slice,g=f.pop,h=f.push,i=f.reverse,j=f.shift,m=f.unshift,l=f.sort,r=function(){var a;return a=k.call(arguments),function(){var b;return b=k.call(arguments),a[0].apply(this,a.slice(1).concat(b))}},p=function(a,b){return function(){return a(b.apply(this,k.call(arguments)))}},u=function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},t=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},B=function(a,b){return a=a.replace(/\s+/g,""),new RegExp(b?a.replace("{{",t(b[0])).replace("}}",t(b[1])):a,"g")},s=function(a){return(null!=a&&a||"").toString().replace(/[&"<>\\]/g,function(a){return{"&":"&amp;","\\":"\\\\",'"':'"',"<":"&lt;",">":"&gt;"}[a]})},A=function(a,b,c){var d,e,f,g;for(e=f=0,g=b.length;g>f;e=++f)d=b[e],a=a.replace(B(t(d)),t(c[e]));return a},q=function(a,b){var c;return c=document.createElement("body"),c.innerHTML=y(a.getAttribute("data-jt-1")||"",b),c=c.children[0],y(c,c.innerHTML,b,{rootModel:model}),c},v=function(a,b){return a["__"+b+"_bindings"]?void 0:(Object.defineProperty(a,"__"+b+"_bindings",{enumerable:!1,writable:!0,value:[]}),Object.defineProperty(a,"__"+b,{enumerable:!1,writable:!0,value:a[b]}),Object.defineProperty(a,b,{get:function(){return this["__"+b]},set:function(a){var c,d,e,f,g;for(this["__"+b]=a,f=this["__"+b+"_bindings"],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,a));return g}}))},n=function(a,b){var c,d,e,f,n;if(!a.__garbageCollectNodes)for(a.__garbageCollectNodes=function(){var a,b;for(a=this.__nodes.length,b=[];--a;)this.__nodes[a].parentNode?b.push(void 0):b.push(this.__nodes.splice(a,1));return b},a.__removeEmpty=function(){return this.length?void 0:b.innerHTML=""},a.__addEmpty=function(){return this.length?void 0:b.innerHTML=y(b.getAttribute("data-jt-0")||"",{})},a.pop=function(){var a,c,d;for(this.__removeEmpty(),this.__garbageCollectNodes(),d=this.__nodes,a=0,c=d.length;c>a;a++)b=d[a],b.removeChild(b.children[b.children.length-1]);return g.apply(this,arguments),g.apply(this.__values,arguments),this.__addEmpty()},a.push=function(a){var d,e,f,g,i;for(this.__removeEmpty(),this.__garbageCollectNodes(),i=this.__nodes,f=0,g=i.length;g>f;f++)b=i[f],b.appendChild(q(b,a));return h.apply(this,arguments),d=this.__values.length,e=h.apply(this.__values,arguments),c(a,d),e},a.reverse=function(){var a,d,e,f,g,h,j,k,l;for(this.__removeEmpty(),this.__garbageCollectNodes(),e=i.apply(this.__values,arguments),k=this.__nodes,f=0,h=k.length;h>f;f++)for(b=k[f],b.innerHTML="",l=this.__values,a=g=0,j=l.length;j>g;a=++g)d=l[a],b.appendChild(q(b,d)),c(d,a);return this.__addEmpty(),e},a.shift=function(){var a,d,e,f,g,h,i,k,l;for(this.__removeEmpty(),this.__garbageCollectNodes(),j.apply(this,arguments),e=j.apply(this.__values,arguments),k=this.__nodes,f=0,h=k.length;h>f;f++)b=k[f],b.removeChild(b.children[0]);for(l=this.__values,a=g=0,i=l.length;i>g;a=++g)d=l[a],c(d,a);return this.__addEmpty(),e},a.unshift=function(){var a,d,e,f,g,h,i,j,l,n,o,p;for(this.__removeEmpty(),this.__garbageCollectNodes(),n=k.call(arguments).reverse(),f=0,i=n.length;i>f;f++)for(d=n[f],o=this.__nodes,g=0,j=o.length;j>g;g++)b=o[g],b.insertBefore(q(b,d),b.children[0]);for(m.apply(this,arguments),e=m.apply(this.__values,arguments),p=this.__values,a=h=0,l=p.length;l>h;a=++h)d=p[a],c(d,a);return this.__addEmpty(),e},a.sort=function(){var d,e,f,g,h,i,j,k,m,n,o;for(this.__removeEmpty(),this.__garbageCollectNodes(),l.apply(this,arguments),f=l.apply(this.__values,arguments),n=this.__nodes,g=0,j=n.length;j>g;g++)for(b=n[g],b.innerHTML="",d=h=0,k=a.length;k>h;d=++h){for(e=a[d],o=this.__nodes,i=0,m=o.length;m>i;i++)b=o[i],b.appendChild(q(b,e));c(e,d)}return this.__addEmpty(),f},a.splice=function(a,d){var e,f,g,h,i,j,l,m,n;for(this.__removeEmpty(),this.__garbageCollectNodes(),m=this.__nodes,g=0,j=m.length;j>g;g++){for(b=m[g],e=h=0;d>=0?d>h:h>d;e=d>=0?++h:--h)b.removeChild(b.children[a]);for(n=k.call(arguments,2),i=0,l=n.length;l>i;i++)f=n[i],b.insertBefore(q(b,f),b.children[a]),c(f,a)}return apsplice.apply(this,arguments),apsplice.apply(this.__values,arguments),this.__addEmpty()},c=function(c,d){return a.__values[d]=c,Object.defineProperty(a,d,{get:function(){return this.__values[d]},set:function(a){var c,e,f,g;for(this.__garbageCollectNodes(),this.__values[d]=a,f=this.__nodes,g=[],c=0,e=f.length;e>c;c++)b=f[c],g.push(b.replaceChild(q(b,a),b.children[d]));return g}})},Object.defineProperty(a,"__nodes",{enumerable:!1,writable:!0,value:[]}),Object.defineProperty(a,"__values",{enumerable:!1,writable:!0,value:[]}),d=f=0,n=a.length;n>f;d=++f)e=a[d],c(e,d);return-1===a.__nodes.indexOf(b)&&a.__nodes.push(b),a}}.call(this);