/*! jtmpl 02-05-2014 */
!function(a){"use strict";function b(){var a=[].slice.call(arguments);return["GET","POST"].indexOf(a[0])>-1?b.xhr(a):"string"==typeof a[0]&&"object"==typeof a[1]&&["object","undefined"].indexOf(typeof a[2])>-1?b.compile.apply(null,a):void 0}function c(){this.objs=[],this.store=[]}function d(a,b){return RegExp(e(a.delimiters[0])+h+e(a.delimiters[1]),b)}function e(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function f(a,c,d,e,f){var g,h,i=b.rules,j=b.rules.length;for(a=a.slice(f.delimiters[0].length,-f.delimiters[1].length),g=0;j>g;g++)if(h=i[g](a,c,d,e,f))return h}var g=/^[\w\.\-]+$/,h="[\\s\\S]*?";b.addChangeListener=function(){},c.prototype={get:function(a,b){var c=this.objs.indexOf(a);return c>-1?this.store[c]:(this.objs.push(a),void this.store.push(b||{}))},release:function(a){var b=this.objs.indexOf(a);b>-1&&(this.objs.splice(b,1),this.store.splice(b,1))}};var i=[["<table>","<jtmpl-table>"],["<table ","<jtmpl-table "],["</table>","</jtmpl-table>"],["<tr>","<jtmpl-tr>"],["<tr ","<jtmpl-tr "],["</tr>","</jtmpl-tr>"],["<td>","<jtmpl-td>"],["<td ","<jtmpl-td "],["</td>","</jtmpl-td>"]];b.compile=function(a,c,g){var h,j,k,l,m,n,o,p,q,r,s=document.createDocumentFragment();for(a instanceof Node?l=a:(i.map(function(b){a=a.replace(new RegExp(e(b[0]),"g"),b[1])}),l=document.createElement("body"),l.innerHTML=a),h=0;h<l.childNodes.length;h++)switch(m=l.childNodes[h],n=m.cloneNode(!1),s.appendChild(n),n.nodeType){case 1:for(j=0,k=n.attributes.length;k>j;j++)console.log(attr.name+"="+attr.value);n.appendChild(b.compile(m,c,g));break;case 3:for(o=d(g);p=n.data.match(o);)r=n.splitText(p.index),n=r.splitText(p[0].length),q=f(r.data,r,null,c,g),q&&(r.data=q.replace||"")}return s},b.rules=[function(a,b,c,d){var e=a.match(g);return e?{replace:d[a]}:void 0}],"undefined"==typeof module?a.jtmpl=b:exports=module.exports=b}(this);