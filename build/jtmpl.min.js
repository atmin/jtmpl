/*! jtmpl 25-06-2014 */
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};v=("undefined"!=typeof exports&&null!==exports?exports:this).jtmpl=function(a,b,c){var d,f,g,h,i,j,k,l,m,n;if(d=[].slice.call(arguments),1===d.length&&"string"==typeof d[0])return[].slice.call(document.querySelectorAll(d[0]));if("GET"===(l=d[0])||"POST"===l)return v.xhr(d);if("string"!=typeof d[0]||"string"==typeof d[1]&&2!==d.length||2!==(m=d.length)&&3!==m)return"function"==typeof d[0].cloneNode&&"object"==typeof d[1]?(v.bind(d[0],d[1],v.options(d[2],d[1])),v.postbind(d[1])):(a="function"==typeof d[0].cloneNode&&d[0]||document.querySelector(d[0]),b=d[1].match(e)&&document.querySelector(d[1]).innerHTML||d[1],c=d[2],h=v.options(d[3],d[2]),"SCRIPT"===a.nodeName&&(g=document.createElement(h.defaultTargetTag),g.id=a.id,a.parentNode.replaceChild(g,a),a=g),f=v(b,c,h),a.innerHTML!==f&&(a.innerHTML=f),v(a,c,h));for(b=""+(d[0].match(e)&&document.querySelector(d[0]).innerHTML||d[0]),h=v.options(d[2],d[1]),n=v.preprocessingRules,j=0,k=n.length;k>j;j++)i=n[j],b=b.replace(z(i[0],h.delimiters),i[1]);return v.compile(b,d[1],null,!1,h).trim()},v.defaultOptions={delimiters:"{{ }}",compiledDelimiters:"#{ }#",defaultSection:"div",defaultSectionItem:"div",defaultVar:"span",defaultPartial:"div",defaultTargetTag:"div"},v.options=function(a,b){var c,d;a=a||{},c=JSON.parse(JSON.stringify(v.defaultOptions));for(d in Object.getOwnPropertyNames(a))c[d]=a[d];return c.delimiters=c.delimiters.split(" "),c.compiledDelimiters=c.compiledDelimiters.split(" "),c.rootModel=a.rootModel?a.rootModel:b,c},v.xhr=function(a){var b,c,d,e,f,g,h,i;for(f=new XMLHttpRequest,b=a.reduce(function(a,b){return"function"==typeof b?b:a},null),c=a[a.length-1],"object"!=typeof c&&(c={}),i=Object.getOwnPropertyNames(c),g=0,h=i.length;h>g;g++)d=i[g],f[d]=c[d];return e="string"==typeof a[2]?a[2]:"object"==typeof a[2]?Object.keys(a[2]).map(function(b){return""+b+"="+encodeURIComponent(a[2][b])}).join("&"):"",f.onload=function(a){var c;if(b){try{c=JSON.parse(this.responseText)}catch(d){c=this.responseText}return b.call(this,c,a)}},f.open(a[0],a[1],c.async||!0,c.user,c.password),f.send(e)},d="[\\w\\.\\-]+",e="^#[\\w\\.\\-]+$",a="[\\s\\S]*?",g="\\s*",f="(?: \\| ("+d+") )?",c='(?: ( \\s* data-jt = " [^"]* )" )?',b=/^(#|\^)\s([\s\S]*)$/,h="w?\\:?\\/\\/[^\\s\"']+",v.preprocessingRules=[["({{) { ("+d+") } (}})","$1&$2$3"],["<!-- "+g+" ({{ "+a+" }}) "+g+" -->","$1"],["("+d+")='({{ "+d+" }})'","$1=$2"],["("+d+')="({{ '+d+' }})"',"$1=$2"],["\\n "+g+" ({{ "+a+" }}) "+g+" \\n","\n$1\n"],["{{&gt;","{{>"]],v.formatters={},v.mappings={},v.partials={},v.compileRules=[{pattern:'(class="? [\\w \\. \\- \\s {{}}]*) {{ ('+d+") }}$",replaceWith:function(a,b,c){var d;return d=p(c,b),[(-1===a.search("{")&&a||" ")+("boolean"==typeof d&&d&&b||""),[]]},echoReplaceWith:function(a,b){return a.search("{")>-1?" {{"+b+"}}":null},bindingToken:function(a,b){return"class="+b}},{pattern:"on("+d+") = {{ ("+d+") }}$",replaceWith:function(){return["",[]]},bindingToken:function(a,b){return"on"+a+"="+b}},{pattern:"("+d+") = {{ ("+d+") }}$",replaceWith:function(a,b,c){var d;return d=p(c,b),null==d||null===d?["",[]]:"boolean"==typeof d?[d?a:"",[]]:[""+a+'="'+d+'"',[]]},bindingToken:function(a,b){return""+a+"="+b}},{pattern:"{{ \\^ ("+d+") }}$",wrapper:"defaultSection",lastTag:function(a,b){return Array.isArray(null!=a?a[b]:void 0)?b:null},contents:function(a,b,c,d){var e;return e=p(b,c),[Array.isArray(e)?e.length?"":v(a,b):e?"":v(a,b),[["data-jt-0",k(a,d)]]]},bindingToken:function(a){return"^"+a}},{pattern:"{{ \\# ("+d+") "+f+" }}$",lastTag:function(a,b){return Array.isArray(null!=a?a[b]:void 0)?b:null},wrapper:"defaultSection",contents:function(a,b,c,d,e){var f,g;return d=b&&d?e.rootModel[d]||(null!=b?b[d]:void 0)||v.mappings[d]:null,g=p(b,c,!1,null,null,d),[Array.isArray(g)?function(){var b,c,d;for(d=[],b=0,c=g.length;c>b;b++)f=g[b],d.push(v(a,f,{asArrayItem:!0,rootModel:e.rootModel}));return d}().join(""):"object"==typeof g?v(a,g,e):g?v(a,b,e):"",[["data-jt-1",k(a,e)]]]},bindingToken:function(a){return"#"+a}},{pattern:'{{ > "( (?: \\# '+d+') )" }}',wrapper:"defaultPartial",replaceWith:function(a,b){var c;return b?[document?v((null!=(c=document.querySelector(a))?c.innerHTML:void 0)||v.partials[a.slice(1)]||"",b):v(v.partials[a.slice(1)]||"",b),[]]:["",[]]},bindingToken:function(a){return'>"'+a+'"'}},{pattern:"{{ & ("+d+") }}$",wrapper:"defaultVar",replaceWith:function(a,b){return[p(b,a),[]]},bindingToken:function(a){return a}},{pattern:"{{ ("+d+") "+f+" }}$",wrapper:"defaultVar",replaceWith:function(a,b,c){var d;return[n(p(c,a,void 0,void 0,(null!=c?c[b]:void 0)||(null!=(d=v.formatters)?d[b]:void 0)||null)),[]]},bindingToken:function(a,b){return a+(b?"|"+b:"")}}],v.bindRules=[{pattern:"(value | checked | selected) = ("+d+")",bindTo:function(a,b){return b},react:function(a,b,c,d){var e,f,g;return"OPTION"===a.nodeName&&a.parentNode.addEventListener("change",function(){return d[c]!==a.selected?d[c]=a.selected:void 0}),"radio"===a.type&&a.name&&a.addEventListener("change",function(){var e,f,g,h;if(a[b])for(h=document.querySelectorAll("input[type=radio][name="+a.name+"]"),f=0,g=h.length;g>f;f++)e=h[f],e!==a&&e.dispatchEvent(new Event("change"));return d[c]=a[b]}),"text"===(g=a.type)||"password"===g?a.addEventListener("input",function(){return d[c]=a[b]}):a.addEventListener("change",function(){return d[c]=a[b]}),e=function(e){return e=p(d,c,!0,f),void 0!==e&&a[b]!==e?a[b]=e:void 0},f=function(a){return void 0!==a?e(a):void 0},"function"==typeof d[c]&&f(p(d,c,!0,e)),f}},{pattern:"on("+d+") = ("+d+")",react:function(a,b,c,d,e){var f,g,h,i,j,k,l,m;if(f=(null!=e&&null!=(l=e.rootModel)?l[c]:void 0)||d[c],"function"!=typeof f)throw":( "+c+" is not a function, cannot attach event handler";for(g=b+c,m=d.__jt__.domListeners[g]||[],j=0,k=m.length;k>j;j++)if(h=m[j],h[0]===a)return;return a.addEventListener(b,f.bind(d)),null==(i=d.__jt__.domListeners)[g]&&(i[g]=[]),d.__jt__.domListeners[g].push([a,b,f]),null}},{pattern:"class = ("+d+")",bindTo:function(a){return a},react:function(a,b,c){var d,e;return d=function(c){return(c&&i||A)(a,b)},e=function(a){return void 0!==a?d(a):void 0},"function"==typeof c[b]&&e(p(c,b,!0,d)),e}},{pattern:"("+d+") = ("+d+")",bindTo:function(a,b){return b},react:function(a,b,c,d){var e,f;return e=function(c){return a[b]!==c?a[b]=c:void 0},f=function(a){return void 0!==a?e(a):void 0},"function"==typeof d[c]&&f(p(d,c,!0,e)),f}},{pattern:"^(# | \\^) ("+d+") "+f+" $",bindTo:function(a,b){return b},recurseContext:function(a,b,c,d){var e;return e=d[b],Array.isArray(e)?null:"object"==typeof e?e:d},react:function(a,b,c,d,e,f){var g,h,i,j,k,l,n,o,q;if(this.index=(this.index||0)+1,d=f.rootModel[d]||e[d]||v.mappings[d],l=p(e,c,!1,null,null,d),i=v.options(f),Array.isArray(l)&&"#"===b)for(v.bindArrayToNodeChildren(e,c,a,f),q=a.children,h=n=0,o=q.length;o>n;h=++n)g=q[h],"object"==typeof l[h]&&v.bind(g,l[h],i);return j=function(d){var f,g,h,j;if(Array.isArray(d)){for(v.bindArrayToNodeChildren(e,c,a,i),a.innerHTML=d.length?"":v(m(a.getAttribute("data-jt-0")||"",i),e),j=[],g=0,h=d.length;h>g;g++)f=d[g],j.push(a.appendChild(v.createSectionItem(a,f,i)));return j}return"object"!=typeof d?a.innerHTML=v(m("#"===b&&d?a.getAttribute("data-jt-1")||"":"^"!==b||d?"":a.getAttribute("data-jt-0")||"",i),e,i):Object.getOwnPropertyNames(d).length?(a.innerHTML=v(m(a.getAttribute("data-jt-1")||"",i),d,i),v.unbind(e[c]),v.bind(a,e,i)):void 0},k=function(a){return void 0!==a?j(a):void 0},"function"==typeof e[c]&&k(p(e,c,!0,j,d)),k}},{pattern:'>"(.*?)"',bindTo:function(){return null},react:function(a,b,c,d){return a.innerHTML||(b.match(e)&&(a.innerHTML=v(b,c,d)),b.match(h)&&v("GET",b,function(b){return a.innerHTML=b})),function(a){return console.log("partial react"),console.log(a)}}},{pattern:"("+d+") "+f,bindTo:function(a){return a},react:function(a,b,c,d,e){var f,g;return f=function(b){var f,g;return a.innerHTML=((null!=(f=e.rootModel)?f[c]:void 0)||d[c]||(null!=(g=v.formatters)?g[c]:void 0)||function(a){return a})(b),"object"==typeof b?v.bind(a,d,e):void 0},g=function(a){return void 0!==a?f(a):void 0},"function"==typeof d[b]&&g(p(d,b,!0,f,c)),g}}],v.compile=function(b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,t,x,y,A,B,C,D,E,F,G,H,I,J;for(D=z("{{ (/?) ("+a+") }}",f.delimiters),q="",o=0;C=D.exec(b);){if(C[1]){if(C[2]!==d)throw new Error(d&&":( expected {{/"+d+"}}, got {{"+C[2]+"}}"||":( unexpected {{/"+C[2]+"}}");return q+b.slice(o,D.lastIndex-C[0].length)}for(y=b.slice(Math.max(0,o-128),D.lastIndex),H=v.compileRules,F=0,G=H.length;G>F;F++)if(t=H[F],n=z(t.pattern,f.delimiters).exec(y)){q+=b.slice(o,D.lastIndex-n[0].length),k=w(q),h=t.bindingToken.apply(t,n.slice(1)),null!=t.replaceWith?(e?q+=("function"==typeof t.echoReplaceWith?t.echoReplaceWith.apply(t,n.slice(1)):void 0)||n[0]:(I=t.replaceWith.apply(t,n.slice(1).concat([c])),p=I[0],E=I[1],-1===k&&null!=t.wrapper?(A=f[t.wrapper],q+=r(s("<"+A+">"+p+"</"+A+">",h),E)):(q+=p,q=q.slice(0,k)+r(s(q.slice(k),h),E))),o=D.lastIndex):(B=v.compile(b.slice(D.lastIndex),c,n[1],!0,f),D.lastIndex+=B.length,i=D.exec(b),o=D.lastIndex,e?q+=C[0]+B+i[0]:(x=n[1],g=[B,c].concat(n.slice(1)).concat([f]),J=t.contents.apply(t,g),j=J[0],E=J[1],-1===k?(A=f[t.wrapper],x!==m?(l=q.length,q+=r(s("<"+A+">"+j+"</"+A+">",h),E)):q=q.slice(0,l)+r(s(q.slice(l),h),E,j.trim())):(q=q.slice(0,k)+r(s(q.slice(k),h),E)+j.trim(),l=k),m=("function"==typeof t.lastTag?t.lastTag(c,x):void 0)||null));break}}return q+=b.slice(o),f.asArrayItem?u(q)?q:(A=f.defaultSectionItem,"<"+A+">"+q+"</"+A+">"):q},s=function(b,e){var f,h,i;return h=z("^ ("+g+" < "+d+") ("+a+") "+c).exec(b),f=(h[3]||"").length,i=h[1].length+h[2].length+f,e=n(e),b.slice(0,i)+(f?('data-jt="'===h[3].trim()?"":" ")+e:' data-jt="'+e+'"')+b.slice(i)},r=function(b,c,e){var f,h,i;return c.length?(f=z("^ ("+g+" < "+d+" "+a+")>").exec(b),i=f[1].length,b.slice(0,i)+[function(){var a,b,d;for(d=[],a=0,b=c.length;b>a;a++)h=c[a],d.push(" "+h[0]+'="'+n(h[1])+'"');return d}()].join("")+">"+(e||"")+b.slice(i+1)):b},w=function(a){return a.trimRight().search(z("< "+d+" [^>]*? >?$"))},u=function(b){return!!b.trim().match(z("^<("+d+") "+g+"        [^>]*? > "+a+" </\\1>$ | < [^>]*? />$"))},v.postbind=function(b){var c,d,e;return"function"==typeof b["#"]&&b["#"].apply(b),d=Object.getOwnPropertyNames(b),e=d.filter(function(b){return z("#"+a).exec(b)}),e.length&&window&&(c=function(){var a,c,d,f;for(d=0,f=e.length;f>d;d++)c=e[d],B.call(c,"(")>=0?(a=new RegExp(c,"g").exec(window.location.hash),a&&"function"==typeof b[c]&&b[c].apply(b,a.slice(1))):c===window.location.hash&&"function"==typeof b[c]&&b[c].apply(b)},c(),!b.__jt__.domListeners.hashchange)?(window.addEventListener("hashchange",c),b.__jt__.domListeners.hashchange=!0):void 0},v.bind=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,w,x;if("object"!=typeof b||b.__jt__||(b.__jt__={dependents:{},listeners:{},domListeners:{},bound:{}}),d=(d||0)+1,f=a.getAttribute("data-jt"))for(t=f.trim().split(" "),n=0,q=t.length;q>n;n++)for(g=t[n],u=v.bindRules,o=0,r=u.length;r>o;o++)if(m=u[o],i=z(m.pattern).exec(g)){k=m.react.apply(m,[a].concat(i.slice(1),[b,c])),j="function"==typeof m.bindTo?m.bindTo.apply(m,i.slice(1)):void 0,h=j+m.pattern+g+d,(null!=b?b.__jt__.bound[h]:void 0)||y(b,j,k),"object"==typeof b&&(b.__jt__.bound[h]=!0),l="function"==typeof m.recurseContext?m.recurseContext.apply(m,i.slice(1).concat([b])):void 0;break}if(null!==l){for(w=a.children,x=[],p=0,s=w.length;s>p;p++)e=w[p],d+=1,x.push(v.bind(e,l||b,c,d));return x}},v.unbind=function(a){var b,c,d,e,f,g,h;if("object"==typeof(null!=a&&null!=(g=a.__jt__)?g.domListeners:void 0)){h=a.__jt__.domListeners;for(b in h)for(d=h[b],e=0,f=d.length;f>e;e++)c=d[e],c[0].removeEventListener(c[1],c[2]);return a.__jt__.domListeners={}}},o=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},z=function(a,b){return a=a.replace(/\s+/g,""),new RegExp(b?a.replace("{{",o(b[0])).replace("}}",o(b[1])):a,"g")},p=function(a,b,c,d,e,f){var g,h,i,j;return null===a||void 0===a||null===b||void 0===b?null:(e=e||function(a){return a},h=function(b){var c;return c=a[b],e("function"==typeof c?c.call(h):c)},g=function(c){var d;return null==(d=a.__jt__.dependents)[c]&&(d[c]=[]),-1===a.__jt__.dependents[c].indexOf(b)&&a.__jt__.dependents[c].push(b),h(c)},"."===b?e(a):(j=a[b],i="function"==typeof j?j.call(c?g:h,d):e(j),"function"==typeof f&&Array.isArray(i)?i.map(f).filter(t):i))},t=function(a){return null!==a&&void 0!==a},n=function(a){return(null!=a&&a||"").toString().replace(/[&"<>\\]/g,function(a){return{"&":"&amp;","\\":"\\\\",'"':"&quot;","<":"&lt;",">":"&gt;"}[a]})},x=function(a,b,c){var d,e,f,g;for(e=f=0,g=b.length;g>f;e=++f)d=b[e],a=a.replace(z(o(d)),c[e]);return a},k=function(a,b){return x(a.trim(),b.delimiters,b.compiledDelimiters)},m=function(a,b){return x(a.trim(),b.compiledDelimiters,b.delimiters)},v.createSectionItem=l=function(a,b,c){var d;return void 0===b&&(b={}),d=document.createElement("body"),d.innerHTML=v(x(a.getAttribute("data-jt-1")||"",c.compiledDelimiters,c.delimiters),b),d=d.children[0],"object"==typeof b&&v(d,d.innerHTML,b,c),d},v.hasClass=q=function(a,b){return new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)},v.addClass=i=function(a,b){return q(a,b)?void 0:a.className+=(a.className&&" "||"")+b},v.removeClass=A=function(a,b){return q(a,b)?a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)"),"").replace(/^\s+|\s+$/g,""):void 0},y=function(a,b,c){var d,e;if(a&&b&&c)return void 0===a[b]&&(a[b]=null),Array.isArray(a.__jt__.listeners[b])?void a.__jt__.listeners[b].push(c):(a.__jt__.listeners[b]=[c],d=function(a){var b;return(b=null!=a?a.__signal__:void 0)?(a=p(b.obj,b.prop,!0,c),void 0!==a&&c(a),!0):!1},e=a[b],Object.defineProperty(a,b,{get:function(){return e},set:function(c){var f,g,h,i;if(!d(c))for("function"==typeof e?e.call(function(b,c){return a[b]=c},c):e=c,i=a.__jt__.listeners[b],g=0,h=i.length;h>g;g++)(f=i[g])(c);return j(a,b)},configurable:!0,enumerable:!1}))},j=function(a,b){var c,d,e,f;for(f=a.__jt__.dependents[b]||[],d=0,e=f.length;e>d;d++)c=f[d],"function"==typeof c?c():a[c]={__signal__:{obj:a,prop:c}}},v.bindArrayToNodeChildren=function(a,b,c,d){var e,f,g,h,i,k,m,n,o,p;if(e=a[b],!e.__values){i=function(e){return function(){var f,g,h,i,k,l,m,n;if(!this.length)for(m=this.__nodes,h=0,k=m.length;k>h;h++)c=m[h],c.innerHTML="";for(f=this.__nodes.length;--f;)this.__nodes[f].parentNode||this.__nodes.splice(f,1);if(g=e.apply(this,arguments),!this.length)for(n=this.__nodes,i=0,l=n.length;l>i;i++)c=n[i],c.innerHTML=v(x(c.getAttribute("data-jt-0")||"",d.compiledDelimiters,d.delimiters),{});return j(a,b),g}},p={pop:function(){var a,b,d;if(this.length)for(d=this.__nodes,a=0,b=d.length;b>a;a++)c=d[a],c.removeChild(c.children[c.children.length-1]);return[].pop.apply(this,arguments)},push:function(a){var b,e,g,h;for(h=this.__nodes,e=0,g=h.length;g>e;e++)c=h[e],c.appendChild(l(c,a,d));return b=[].push.apply(this,arguments),f(a,this.length-1),b},reverse:function(){var a,b,e,g,h,i;for(i=this.__nodes,e=0,h=i.length;h>e;e++)for(c=i[e],c.innerHTML="",a=g=this.length-1;g>=0;a=g+=-1)b=this[a],c.appendChild(l(c,b,d)),f(b,a);return[].reverse.apply(this,arguments)},shift:function(){var a,b,d,e,g,h,i,j;for(j=this.__nodes,e=0,h=j.length;h>e;e++)c=j[e],c.removeChild(c.children[0]);for(d=[].shift.apply(this,arguments),a=g=0,i=this.length;i>g;a=++g)b=this[a],f(b,a);return d},unshift:function(){var a,b,e,g,h,i,j,k,m,n,o;for(n=[].slice.call(arguments).reverse(),g=0,j=n.length;j>g;g++)for(b=n[g],o=this.__nodes,h=0,k=o.length;k>h;h++)c=o[h],c.insertBefore(l(c,b,d),c.children[0]);for(e=[].unshift.apply(this,arguments),a=i=0,m=this.length;m>i;a=++i)b=this[a],f(b,a);return e},sort:function(){var a,b,e,g,h,i,j;for([].sort.apply(this,arguments),j=this.__nodes,e=0,h=j.length;h>e;e++)for(c=j[e],c.innerHTML="",a=g=0,i=this.length;i>g;a=++g)b=this[a],c.appendChild(l(c,b,d)),f(b,a);return this},splice:function(a,b){var e,g,h,i,j,k,m,n,o;for(n=this.__nodes,h=0,k=n.length;k>h;h++){for(c=n[h],e=i=0;b>=0?b>i:i>b;e=b>=0?++i:--i)c.removeChild(c.children[a]);for(o=[].slice.call(arguments,2),j=0,m=o.length;m>j;j++)g=o[j],c.insertBefore(l(c,g,d),c.children[a]),f(g,a)}return[].splice.apply(this,arguments)}};for(k in p)m=p[k],e[k]=i(m);for(f=function(a,b){return e.__values[b]=a,Object.defineProperty(e,b,{get:function(){return this.__values[b]},set:i(function(a){var e,f,g,h;for(this.__values[b]=a,g=this.__nodes,h=[],e=0,f=g.length;f>e;e++)c=g[e],h.push(c.replaceChild(l(c,a,d),c.children[b]));return h})})},Object.defineProperty(e,"__nodes",{enumerable:!1,writable:!0,value:[]}),Object.defineProperty(e,"__values",{enumerable:!1,writable:!0,value:[]}),g=n=0,o=e.length;o>n;g=++n)h=e[g],f(h,g)}return-1===e.__nodes.indexOf(c)&&e.__nodes.push(c),e}}).call(this);