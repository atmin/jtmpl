/*! jtmpl 22-02-2014 */
!function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};v=("undefined"!=typeof exports&&null!==exports?exports:this).jtmpl=function(a,b,c){var d,f,g,h,i,j,k,l,m,n;if(d=[].slice.call(arguments),1===d.length&&"string"==typeof d[0])return[].slice.call(document.querySelectorAll(d[0]));if("GET"===(l=d[0])||"POST"===l)return v.xhr(d);if("string"!=typeof d[0]||"string"==typeof d[1]&&2!==d.length||null===d[1]||2!==(m=d.length)&&3!==m)return"function"==typeof d[0].cloneNode&&"object"==typeof d[1]?(v.bind(d[0],d[1],v.options(d[2],d[1])),v.postbind(d[1])):(a="function"==typeof d[0].cloneNode&&d[0]||document.querySelector(d[0]),b=d[1].match(e)&&document.querySelector(d[1]).innerHTML||d[1],c=d[2],h=v.options(d[3],d[2]),"SCRIPT"===a.nodeName&&(g=document.createElement(h.defaultTargetTag),g.id=a.id,a.parentNode.replaceChild(g,a),a=g),f=v(b,c,h),a.innerHTML!==f&&(a.innerHTML=f),v(a,c,h));for(b=""+(d[0].match(e)&&document.querySelector(d[0]).innerHTML||d[0]),h=v.options(d[2],d[1]),n=v.preprocessingRules,j=0,k=n.length;k>j;j++)i=n[j],b=b.replace(z(i[0],h.delimiters),i[1]);return v.compile(b,d[1],null,!1,h).trim()},v.defaultOptions={delimiters:"{{ }}",compiledDelimiters:"#{ }#",defaultSection:"div",defaultSectionItem:"div",defaultVar:"span",defaultPartial:"div",defaultTargetTag:"div"},v.options=function(a,b){var c,d;a=a||{},c=JSON.parse(JSON.stringify(v.defaultOptions));for(d in Object.getOwnPropertyNames(a))c[d]=a[d];return c.delimiters=c.delimiters.split(" "),c.compiledDelimiters=c.compiledDelimiters.split(" "),c.rootModel=a.rootModel?a.rootModel:b,c},v.xhr=function(a){var b,c,d,e,f,g,h,i;for(f=new XMLHttpRequest,b=a.reduce(function(a,b){return"function"==typeof b&&b||a},null),c=a[a.length-1],"object"!=typeof c&&(c={}),i=Object.getOwnPropertyNames(c),g=0,h=i.length;h>g;g++)d=i[g],f[d]=c[d];return e="string"==typeof a[2]?a[2]:"object"==typeof a[2]?JSON.stringify(a[2]):"",f.onload=function(a){var c;if(b){try{c=JSON.parse(this.responseText)}catch(d){c=this.responseText}return b.call(this,c,a)}},f.open(a[0],a[1],c.async||!0,c.user,c.password),f.send(e)},d="[\\w\\.\\-]+",e="^#[\\w\\.\\-]+$",a="[\\s\\S]*?",g="\\s*",f="(?: \\| ("+d+") )?",c='(?: ( \\s* data-jt = " [^"]* )" )?',b=/^(#|\^)\s([\s\S]*)$/,h="w?\\:?\\/\\/[^\\s\"']+",v.preprocessingRules=[["({{) { ("+d+") } (}})","$1&$2$3"],["<!-- "+g+" ({{ "+a+" }}) "+g+" -->","$1"],["("+d+")='({{ "+d+" }})'","$1=$2"],["("+d+')="({{ '+d+' }})"',"$1=$2"],["\\n "+g+" ({{ "+a+" }}) "+g+" \\n","\n$1\n"],["{{&gt;","{{>"]],v.formatters={},v.mappings={},v.partials={},v.compileRules=[{pattern:'(class="? [\\w \\. \\- \\s {{}}]*) {{ ('+d+") }}$",replaceWith:function(a,b,c){var d;return d=q(c,b),[(-1===a.search("{")&&a||" ")+("boolean"==typeof d&&d&&b||""),[]]},echoReplaceWith:function(a,b){return a.search("{")>-1?" {{"+b+"}}":null},bindingToken:function(a,b){return"class="+b}},{pattern:"on("+d+") = {{ ("+d+") }}$",replaceWith:function(){return["",[]]},bindingToken:function(a,b){return"on"+a+"="+b}},{pattern:"("+d+") = {{ ("+d+") }}$",replaceWith:function(a,b,c){var d;return d=q(c,b),null==d||null===d?["",[]]:"boolean"==typeof d?[d?a:"",[]]:[""+a+'="'+d+'"',[]]},bindingToken:function(a,b){return""+a+"="+b}},{pattern:"{{ \\^ ("+d+") }}$",wrapper:"defaultSection",lastTag:function(a,b){return Array.isArray(a[b])?b:null},contents:function(a,b,c,d){var e;return e=q(b,c),[Array.isArray(e)?e.length?"":v(a,b):e?"":v(a,b),[["data-jt-0",l(a,d)]]]},bindingToken:function(a){return"^"+a}},{pattern:"{{ \\# ("+d+") "+f+" }}$",lastTag:function(a,b){return Array.isArray(a[b])?b:null},wrapper:"defaultSection",contents:function(a,b,c,d,e){var f,g;return g=q(b,c),[Array.isArray(g)?(d=e.rootModel[d]||b[d]||v.mappings[d],"function"==typeof d?g=g.map(d).filter(function(a){return null!==a&&void 0!==a}):void 0,function(){var b,c,d;for(d=[],b=0,c=g.length;c>b;b++)f=g[b],d.push(v(a,f,{asArrayItem:!0}));return d}().join("")):"object"==typeof g?v(a,g):g?v(a,b):"",[["data-jt-1",l(a,e)]]]},bindingToken:function(a){return"#"+a}},{pattern:'{{ > "( (?: \\# '+d+") | (?: "+h+') )" }}',wrapper:"defaultPartial",replaceWith:function(a,b){var c;return[document?v((null!=(c=document.querySelector(a))?c.innerHTML:void 0)||v.partials[a.slice(1)]||"",b):v(v.partials[a.slice(1)]||"",b),[]]},bindingToken:function(a){return'>"'+a+'"'}},{pattern:"{{ & ("+d+") }}$",wrapper:"defaultVar",replaceWith:function(a,b){return[q(b,a),[]]},bindingToken:function(a){return a}},{pattern:"{{ ("+d+") "+f+" }}$",wrapper:"defaultVar",replaceWith:function(a,b,c){var d;return[o(q(c,a,void 0,void 0,c[b]||(null!=(d=v.formatters)?d[b]:void 0)||null)),[]]},bindingToken:function(a,b){return a+(b?"|"+b:"")}}],v.bindRules=[{pattern:"(value | checked | selected) = ("+d+")",bindTo:function(a,b){return b},react:function(a,b,c,d){var e,f,g;return"OPTION"===a.nodeName&&a.parentNode.addEventListener("change",function(){return d[c]!==a.selected?d[c]=a.selected:void 0}),"radio"===a.type&&a.name&&a.addEventListener("change",function(){var e,f,g,h;if(a[b])for(h=document.querySelectorAll("input[type=radio][name="+a.name+"]"),f=0,g=h.length;g>f;f++)e=h[f],e!==a&&e.dispatchEvent(new Event("change"));return d[c]=a[b]}),"text"===(g=a.type)||"password"===g?a.addEventListener("input",function(){return d[c]=a[b]}):a.addEventListener("change",function(){return d[c]=a[b]}),e=function(e){return e=q(d,c,!0,f),void 0!==e?a[b]!==e?a[b]=e:void 0:void 0},f=function(a){return void 0!==a?e(a):void 0},"function"==typeof d[c]&&f(q(d,c,!0,e)),f}},{pattern:"on("+d+") = ("+d+")",react:function(a,b,c,d,e){var f,g;if(f=(null!=e?null!=(g=e.rootModel)?g[c]:void 0:void 0)||d[c],"function"!=typeof f)throw":( "+c+" is not a function, cannot attach event handler";return j(a,b,d,c,f.bind(d)),null}},{pattern:"class = ("+d+")",bindTo:function(a){return a},react:function(a,b,c){var d,e;return d=function(c){return(c&&i||A)(a,b)},e=function(a){return void 0!==a?d(a):void 0},"function"==typeof c[b]&&e(q(c,b,!0,d)),e}},{pattern:"("+d+") = ("+d+")",bindTo:function(a,b){return b},react:function(a,b,c,d){var e,f;return e=function(c){return a[b]!==c?a[b]=c:void 0},f=function(a){return void 0!==a?e(a):void 0},"function"==typeof d[c]&&f(q(d,c,!0,e)),f}},{pattern:"^(# | \\^) ("+d+")$",bindTo:function(a,b){return b},recurseContext:function(a,b,c){var d;return d=c[b],Array.isArray(d)?null:"object"==typeof d?d:c},react:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o;if(k=d[c],h=v.options(e),Array.isArray(k)&&"#"===b)for(v.bindArrayToNodeChildren(k,a,e),o=a.children,g=l=0,m=o.length;m>l;g=++l)f=o[g],"object"==typeof k[g]&&v.bind(f,k[g],h);return i=function(c){var e,f,g,i;if(Array.isArray(c)){for(v.bindArrayToNodeChildren(c,a,h),a.innerHTML=c.length?"":v(n(a.getAttribute("data-jt-0")||"",h),d),i=[],f=0,g=c.length;g>f;f++)e=c[f],i.push(a.appendChild(v.createSectionItem(a,e,h)));return i}return"object"!=typeof c?a.innerHTML=v(n("#"===b&&c?a.getAttribute("data-jt-1")||"":"^"!==b||c?"":a.getAttribute("data-jt-0")||"",h),d,h):Object.getOwnPropertyNames(c).length?(a.innerHTML=v(n(a.getAttribute("data-jt-1")||"",h),c,h),v.bind(a,d,h)):void 0},j=function(a){return void 0!==a?i(a):void 0},"function"==typeof d[c]&&j(q(d,c,!0,i)),j}},{pattern:'>"(.*?)"',bindTo:function(){return null},react:function(a,b,c,d){a.innerHTML||(b.match(e)&&(a.innerHTML=v(b,c,d)),b.match(h)&&v("GET",b,function(b){return a.innerHTML=b}))}},{pattern:"("+d+") "+f,bindTo:function(a){return a},react:function(a,b,c,d,e){var f,g;return f=function(b){var f,g;return a.innerHTML=((null!=(f=e.rootModel)?f[c]:void 0)||d[c]||(null!=(g=v.formatters)?g[c]:void 0)||function(a){return a})(b),"object"==typeof b?v.bind(a,d,e):void 0},g=function(a){return void 0!==a?f(a):void 0},"function"==typeof d[b]&&g(q(d,b,!0,f,c)),g}}],v.compile=function(b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,x,y,A,B,C,D,E,F,G,H,I,J;for(D=z("{{ (/?) ("+a+") }}",f.delimiters),q="",o=0;C=D.exec(b);){if(C[1]){if(C[2]!==d)throw new Error(d&&":( expected {{/"+d+"}}, got {{"+C[2]+"}}"||":( unexpected {{/"+C[2]+"}}");return q+b.slice(o,D.lastIndex-C[0].length)}for(y=b.slice(Math.max(0,o-128),D.lastIndex),H=v.compileRules,F=0,G=H.length;G>F;F++)if(r=H[F],n=z(r.pattern,f.delimiters).exec(y)){q+=b.slice(o,D.lastIndex-n[0].length),k=w(q),h=r.bindingToken.apply(r,n.slice(1)),null!=r.replaceWith?(e?q+=("function"==typeof r.echoReplaceWith?r.echoReplaceWith.apply(r,n.slice(1)):void 0)||n[0]:(I=r.replaceWith.apply(r,n.slice(1).concat([c])),p=I[0],E=I[1],-1===k&&null!=r.wrapper?(A=f[r.wrapper],q+=s(t("<"+A+">"+p+"</"+A+">",h),E)):(q+=p,q=q.slice(0,k)+s(t(q.slice(k),h),E))),o=D.lastIndex):(B=v.compile(b.slice(D.lastIndex),c,n[1],!0,f),D.lastIndex+=B.length,i=D.exec(b),o=D.lastIndex,e?q+=C[0]+B+i[0]:(x=n[1],g=[B,c].concat(n.slice(1)).concat([f]),J=r.contents.apply(r,g),j=J[0],E=J[1],-1===k?(A=f[r.wrapper],x!==m?(l=q.length,q+=s(t("<"+A+">"+j+"</"+A+">",h),E)):q=q.slice(0,l)+s(t(q.slice(l),h),E,j.trim())):(q=q.slice(0,k)+s(t(q.slice(k),h),E)+j.trim(),l=k),m=("function"==typeof r.lastTag?r.lastTag(c,x):void 0)||null));break}}return q+=b.slice(o),f.asArrayItem?u(q)?q:(A=f.defaultSectionItem,"<"+A+">"+q+"</"+A+">"):q},t=function(b,e){var f,h,i;return h=z("^ ("+g+" < "+d+") ("+a+") "+c).exec(b),f=(h[3]||"").length,i=h[1].length+h[2].length+f,e=o(e),b.slice(0,i)+(f?('data-jt="'===h[3].trim()?"":" ")+e:' data-jt="'+e+'"')+b.slice(i)},s=function(b,c,e){var f,h,i;return c.length?(f=z("^ ("+g+" < "+d+" "+a+")>").exec(b),i=f[1].length,b.slice(0,i)+[function(){var a,b,d;for(d=[],a=0,b=c.length;b>a;a++)h=c[a],d.push(" "+h[0]+'="'+o(h[1])+'"');return d}()].join("")+">"+(e||"")+b.slice(i+1)):b},w=function(a){return a.trimRight().search(z("< "+d+" [^>]*? >?$"))},u=function(b){return!!b.trim().match(z("^<("+d+") "+g+"        [^>]*? > "+a+" </\\1>$ | < [^>]*? />$"))},v.postbind=function(b){var c,d,e;return"function"==typeof b["#"]&&b["#"].apply(b),d=Object.getOwnPropertyNames(b),e=d.filter(function(b){return z("#"+a).exec(b)}),e.length&&window?(c=function(){var a,c,d,f,g;for(g=[],d=0,f=e.length;f>d;d++)c=e[d],B.call(c,"(")>=0?(a=new RegExp(c,"g").exec(window.location.hash),a&&"function"==typeof b[c]?g.push(b[c].apply(b,a.slice(1))):g.push(void 0)):c===window.location.hash&&"function"==typeof b[c]?g.push(b[c].apply(b)):g.push(void 0);return g},c(),window.addEventListener("hashchange",c)):void 0},v.bind=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,w,x,A;if(e=a.getAttribute("data-jt"))for(r=e.trim().split(" "),l=0,o=r.length;o>l;l++)for(f=r[l],s=v.bindRules,m=0,p=s.length;p>m;m++)if(k=s[m],g=z(k.pattern).exec(f)){i=k.react.apply(k,[a].concat(g.slice(1),[b,c])),h="function"==typeof k.bindTo?k.bindTo.apply(k,g.slice(1)):void 0,(null!=b?null!=(t=b.__boundRules)?null!=(u=t[h])?null!=(w=u[k.pattern])?w[f]:void 0:void 0:void 0:void 0)||y(b,h,i),"object"==typeof b&&(b.__boundRules||(b.__boundRules={}),b.__boundRules[h]||(b.__boundRules[h]={}),b.__boundRules[h][k.pattern]||(b.__boundRules[h][k.pattern]={}),b.__boundRules[h][k.pattern][f]=!0),j="function"==typeof k.recurseContext?k.recurseContext.apply(k,g.slice(1).concat([b])):void 0;break}if(null!==j){for(x=a.children,A=[],n=0,q=x.length;q>n;n++)d=x[n],A.push(v.bind(d,j||b,c));return A}},p=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},z=function(a,b){return a=a.replace(/\s+/g,""),new RegExp(b?a.replace("{{",p(b[0])).replace("}}",p(b[1])):a,"g")},q=function(a,b,c,d,e){var f,g,h;return e=e||function(a){return a},g=function(b){var c;return c=a[b],e("function"==typeof c?c.call(g):c)},f=function(c){var d;return null==(d=a.__dependents)[c]&&(d[c]=[]),-1===a.__dependents[c].indexOf(b)&&a.__dependents[c].push(b),g(c)},"."===b?e(a):(h=a[b],"function"==typeof h?h.call(c?(null!=a.__dependents?a.__dependents:a.__dependents={},f):g,d):e(h))},o=function(a){return(null!=a&&a||"").toString().replace(/[&"<>\\]/g,function(a){return{"&":"&amp;","\\":"\\\\",'"':"&quot;","<":"&lt;",">":"&gt;"}[a]})},x=function(a,b,c){var d,e,f,g;for(e=f=0,g=b.length;g>f;e=++f)d=b[e],a=a.replace(z(p(d)),c[e]);return a},l=function(a,b){return x(a.trim(),b.delimiters,b.compiledDelimiters)},n=function(a,b){return x(a.trim(),b.compiledDelimiters,b.delimiters)},v.createSectionItem=m=function(a,b,c){var d;return void 0===b&&(b={}),d=document.createElement("body"),d.innerHTML=v(x(a.getAttribute("data-jt-1")||"",c.compiledDelimiters,c.delimiters),b),d=d.children[0],"object"==typeof b&&v(d,d.innerHTML,b,c),d},v.hasClass=r=function(a,b){return new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)},v.addClass=i=function(a,b){return r(a,b)?void 0:a.className+=(a.className&&" "||"")+b},v.removeClass=A=function(a,b){return r(a,b)?a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)"),"").replace(/^\s+|\s+$/g,""):void 0},y=function(a,b,c){var d,e,f;if(a&&b&&c)return void 0===a[b]&&(a[b]=null),a.__listeners||(a.__listeners={}),Array.isArray(a.__listeners[b])?(a.__listeners[b].push(c),void 0):(a.__listeners[b]=[c],e=function(a){var b;return(b=null!=a?a.__signal:void 0)?(a=q(b.obj,b.prop,!0,c),void 0!==a&&c(a),!0):!1},d=function(){var c,d,e,f,g,h;for(g=(null!=(f=a.__dependents)?f[b]:void 0)||[],h=[],d=0,e=g.length;e>d;d++)c=g[d],h.push(a[c]={__signal:{obj:a,prop:c}});return h},f=a[b],Object.defineProperty(a,b,{get:function(){return f},set:function(c){var g,h,i,j;if(!e(c))for("function"==typeof f?f.call(function(b,c){return a[b]=c},c):f=c,j=a.__listeners[b],h=0,i=j.length;i>h;h++)g=j[h],g(c);return d()},configurable:!0,enumerable:!1}))},j=function(a,b,c,d,e){var f,g,h,i,j,k,l,m;if(null!=(k=c.__dom_listeners)?k[d]:void 0)for(l=c.__dom_listeners[d],g=0,h=l.length;h>g;g++)if(m=l[g],j=m[0],f=m[1],i=m[2],a===j&&f===b&&e===i)return;return a.addEventListener(b,e),c.__dom_listeners||(c.__dom_listeners={}),c.__dom_listeners[d]||(c.__dom_listeners[d]=[]),c.__dom_listeners[d].push([a,b,e])},v.bindArrayToNodeChildren=k=function(a,b,c){var d,e,f,g,h,i;if(!a.__nodes)for(g=function(a){return function(){var d,e;for(this.length||(b.innerHTML=""),d=this.__nodes.length;--d;)this.__nodes[d].parentNode||this.__nodes.splice(d,1);return e=a.apply(this,arguments),this.length||(b.innerHTML=v(x(b.getAttribute("data-jt-0")||"",c.compiledDelimiters,c.delimiters),{})),e}},a.pop=g(function(){var a,c,d;for(d=this.__nodes,a=0,c=d.length;c>a;a++)b=d[a],b.removeChild(b.children[b.children.length-1]);return[].pop.apply(this,arguments)}),a.push=g(function(a){var e,f,g,h;for(h=this.__nodes,f=0,g=h.length;g>f;f++)b=h[f],b.appendChild(m(b,a,c));return e=[].push.apply(this,arguments),d(a,this.length-1),e}),a.reverse=g(function(){var a,e,f,g,h,i;for(i=this.__nodes,f=0,h=i.length;h>f;f++)for(b=i[f],b.innerHTML="",a=g=this.length-1;g>=0;a=g+=-1)e=this[a],b.appendChild(m(b,e,c)),d(e,a);return[].reverse.apply(this,arguments)}),a.shift=g(function(){var a,c,e,f,g,h,i,j;for(j=this.__nodes,f=0,h=j.length;h>f;f++)b=j[f],b.removeChild(b.children[0]);for(e=[].shift.apply(this,arguments),a=g=0,i=this.length;i>g;a=++g)c=this[a],d(c,a);return e}),a.unshift=g(function(){var a,e,f,g,h,i,j,k,l,n,o;for(n=[].slice.call(arguments).reverse(),g=0,j=n.length;j>g;g++)for(e=n[g],o=this.__nodes,h=0,k=o.length;k>h;h++)b=o[h],b.insertBefore(m(b,e,c),b.children[0]);for(f=[].unshift.apply(this,arguments),a=i=0,l=this.length;l>i;a=++i)e=this[a],d(e,a);return f}),a.sort=g(function(){var a,e,f,g,h,i,j,k,l,n;for([].sort.apply(this,arguments),l=this.__nodes,f=0,i=l.length;i>f;f++)for(b=l[f],b.innerHTML="",a=g=0,j=this.length;j>g;a=++g){for(e=this[a],n=this.__nodes,h=0,k=n.length;k>h;h++)b=n[h],b.appendChild(m(b,e,c));d(e,a)}return this}),a.splice=g(function(a,e){var f,g,h,i,j,k,l,n,o;for(n=this.__nodes,h=0,k=n.length;k>h;h++){for(b=n[h],f=i=0;e>=0?e>i:i>e;f=e>=0?++i:--i)b.removeChild(b.children[a]);for(o=[].slice.call(arguments,2),j=0,l=o.length;l>j;j++)g=o[j],b.insertBefore(m(b,g,c),b.children[a]),d(g,a)}return[].splice.apply(this,arguments)}),d=function(d,e){return a.__values[e]=d,Object.defineProperty(a,e,{get:function(){return this.__values[e]},set:g(function(a){var d,f,g,h;for(this.__values[e]=a,g=this.__nodes,h=[],d=0,f=g.length;f>d;d++)b=g[d],h.push(b.replaceChild(m(b,a,c),b.children[e]));return h})})},Object.defineProperty(a,"__nodes",{enumerable:!1,writable:!0,value:[]}),Object.defineProperty(a,"__values",{enumerable:!1,writable:!0,value:[]}),e=h=0,i=a.length;i>h;e=++h)f=a[e],d(f,e);return-1===a.__nodes.indexOf(b)&&a.__nodes.push(b),a}}.call(this);