/*! jtmpl 15-02-2014 */
!function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};s=("undefined"!=typeof exports&&null!==exports?exports:this).jtmpl=function(a,b,c){var d,f,g,h,i,j,k,l,m,n;if(d=[].slice.call(arguments),1===d.length&&"string"==typeof d[0])return[].slice.call(document.querySelectorAll(d[0]));if("GET"===(l=d[0])||"POST"===l)return s.xhr(d);if("string"!=typeof d[0]||"string"==typeof d[1]&&2!==d.length||null===d[1]||2!==(m=d.length)&&3!==m)return"function"==typeof d[0].cloneNode&&"object"==typeof d[1]?(s.bind(d[0],d[1],s.options(d[2],d[1])),s.postbind(d[1])):(a="function"==typeof d[0].cloneNode&&d[0]||document.querySelector(d[0]),b=d[1].match(e)&&document.querySelector(d[1]).innerHTML||d[1],c=d[2],h=s.options(d[3],d[2]),"SCRIPT"===a.nodeName&&(g=document.createElement(h.defaultTargetTag),g.id=a.id,a.parentNode.replaceChild(g,a),a=g),f=s(b,c,h),a.innerHTML!==f&&(a.innerHTML=f),s(a,c,h));for(b=""+(d[0].match(e)&&document.querySelector(d[0]).innerHTML||d[0]),h=s.options(d[2],d[1]),n=s.preprocessingRules,j=0,k=n.length;k>j;j++)i=n[j],b=b.replace(w(i[0],h.delimiters),i[1]);return s.compile(b,d[1],null,!1,h).trim()},s.defaultOptions={delimiters:"{{ }}",compiledDelimiters:"#{ }#",defaultSection:"div",defaultSectionItem:"div",defaultVar:"span",defaultPartial:"div",defaultTargetTag:"div"},s.options=function(a,b){var c,d;a=a||{},c=JSON.parse(JSON.stringify(s.defaultOptions));for(d in Object.getOwnPropertyNames(a))c[d]=a[d];return c.delimiters=c.delimiters.split(" "),c.compiledDelimiters=c.compiledDelimiters.split(" "),c.rootModel=a.rootModel?a.rootModel:b,c},s.xhr=function(a){var b,c,d,e,f,g,h,i;for(f=new XMLHttpRequest,b=a.reduce(function(a,b){return"function"==typeof b&&b||a},null),c=a[a.length-1],"object"!=typeof c&&(c={}),i=Object.getOwnPropertyNames(c),g=0,h=i.length;h>g;g++)d=i[g],f[d]=c[d];return e="string"==typeof a[2]?a[2]:"object"==typeof a[2]?JSON.stringify(a[2]):"",f.onload=function(a){var c;if(b){try{c=JSON.parse(this.responseText)}catch(d){c=this.responseText}return b.call(this,c,a)}},f.open(a[0],a[1],c.async||!0,c.user,c.password),f.send(e)},d="[\\w\\.\\-]+",e="^#[\\w\\.\\-]+$",a="[\\s\\S]*?",g="\\s*",f="(?: \\| ("+d+") )?",c='(?: ( \\s* data-jt = " [^"]* )" )?',b=/^(#|\^)\s([\s\S]*)$/,h="(?:(?:https?|ftp|file):)?//[-A-Za-z0-9+&@#/%?=~_|!:,.;]*[-A-Za-z0-9+&@#/%=~_|]",s.preprocessingRules=[["({{) { ("+d+") } (}})","$1&$2$3"],["<!-- "+g+" ({{ "+a+" }}) "+g+" -->","$1"],["("+d+")='({{ "+d+" }})'","$1=$2"],["("+d+')="({{ '+d+' }})"',"$1=$2"],["\\n "+g+" ({{ "+a+" }}) "+g+" \\n","\n$1\n"]],s.formatters={},s.mappings={},s.partials={},s.compileRules=[{pattern:'(class="? [\\w \\. \\- \\s {{}}]*) {{ ('+d+") }}$",replaceWith:function(a,b,c){var d;return d=n(c,b),[(-1===a.search("{")&&a||" ")+("boolean"==typeof d&&d&&b||""),[]]},echoReplaceWith:function(a,b){return a.search("{")>-1?" {{"+b+"}}":null},bindingToken:function(a,b){return"class="+b}},{pattern:"on("+d+") = {{ ("+d+") }}$",replaceWith:function(){return["",[]]},bindingToken:function(a,b){return"on"+a+"="+b}},{pattern:"("+d+") = {{ ("+d+") }}$",replaceWith:function(a,b,c){var d;return d=n(c,b),null==d||null===d?["",[]]:"boolean"==typeof d?[d?a:"",[]]:[""+a+'="'+d+'"',[]]},bindingToken:function(a,b){return""+a+"="+b}},{pattern:"{{ \\^ ("+d+") }}$",wrapper:"defaultSection",lastTag:function(a,b){return Array.isArray(a[b])?b:null},contents:function(a,b,c,d){var e;return e=n(b,c),[Array.isArray(e)?e.length?"":s(a,b):e?"":s(a,b),[["data-jt-0",u(a.trim(),d.delimiters,d.compiledDelimiters)]]]},bindingToken:function(a){return"^"+a}},{pattern:"{{ \\# ("+d+") "+f+" }}$",lastTag:function(a,b){return Array.isArray(a[b])?b:null},wrapper:"defaultSection",contents:function(a,b,c,d,e){var f,g;return g=n(b,c),[Array.isArray(g)?(d=e.rootModel[d]||b[d]||s.mappings[d],"function"==typeof d?g=g.map(d).filter(function(a){return null!==a&&void 0!==a}):void 0,function(){var b,c,d;for(d=[],b=0,c=g.length;c>b;b++)f=g[b],d.push(s(a,f,{asArrayItem:!0}));return d}().join("")):"object"==typeof g?s(a,g):g?s(a,b):"",[["data-jt-1",u(a.trim(),e.delimiters,e.compiledDelimiters)]]]},bindingToken:function(a){return"#"+a}},{pattern:'{{ > "( (?: '+d+") | (?: "+h+') )" }}',wrapper:"defaultPartial",replaceWith:function(a){return s.partials[a]||""},bindingToken:function(a){return'>"'+a+'"'}},{pattern:"{{ & ("+d+") }}$",wrapper:"defaultVar",replaceWith:function(a,b){return[n(b,a),[]]},bindingToken:function(a){return a}},{pattern:"{{ ("+d+") "+f+" }}$",wrapper:"defaultVar",replaceWith:function(a,b,c){var d;return[l(n(c,a,void 0,void 0,c[b]||(null!=(d=s.formatters)?d[b]:void 0)||null)),[]]},bindingToken:function(a,b){return a+(b?"|"+b:"")}}],s.bindRules=[{pattern:"(value | checked | selected) = ("+d+")",bindTo:function(a,b){return b},react:function(a,b,c,d){var e,f,g;return"OPTION"===a.nodeName&&a.parentNode.addEventListener("change",function(){return d[c]!==a.selected?d[c]=a.selected:void 0}),"radio"===a.type&&a.name&&a.addEventListener("change",function(){var e,f,g,h;if(a[b])for(h=document.querySelectorAll("input[type=radio][name="+a.name+"]"),f=0,g=h.length;g>f;f++)e=h[f],e!==a&&e.dispatchEvent(new Event("change"));return d[c]=a[b]}),"text"===(g=a.type)||"password"===g?a.addEventListener("input",function(){return d[c]=a[b]}):a.addEventListener("change",function(){return d[c]=a[b]}),e=function(e){return e=n(d,c,!0,f),void 0!==e?a[b]!==e?a[b]=e:void 0:void 0},f=function(a){return void 0!==a?e(a):void 0},"function"==typeof d[c]&&f(n(d,c,!0,e)),f}},{pattern:"on("+d+") = ("+d+")",react:function(a,b,c,d,e){var f,g;if(f=(null!=e?null!=(g=e.rootModel)?g[c]:void 0:void 0)||d[c],"function"!=typeof f)throw":( "+c+" is not a function, cannot attach event handler";return a.addEventListener(b,f.bind(d)),null}},{pattern:"class = ("+d+")",bindTo:function(a){return a},react:function(a,b,c){var d,e;return d=function(c){return(c&&i||x)(a,b)},e=function(a){return void 0!==a?d(a):void 0},"function"==typeof c[b]&&e(n(c,b,!0,d)),e}},{pattern:"("+d+") = ("+d+")",bindTo:function(a,b){return b},react:function(a,b,c,d){var e,f;return e=function(c){return a[b]!==c?a[b]=c:void 0},f=function(a){return void 0!==a?e(a):void 0},"function"==typeof d[c]&&f(n(d,c,!0,e)),f}},{pattern:"(# | \\^) ("+d+")",bindTo:function(a,b){return b},recurseContext:function(a,b,c){var d;return d=c[b],Array.isArray(d)?null:"object"==typeof d?d:c},react:function(a,b,c,d,e){var f,g,h,i,j,k,l,m;if(j=d[c],Array.isArray(j)&&"#"===b)for(s.bindArrayToNodeChildren(j,a,e),m=a.children,g=k=0,l=m.length;l>k;g=++k)f=m[g],"object"==typeof j[g]&&s.bind(f,j[g],e);return h=function(c){var f,g,h,i,j;if(g=s.options(e,d),Array.isArray(c)){for(s.bindArrayToNodeChildren(c,a,g),a.innerHTML=c.length?"":s(u(a.getAttribute("data-jt-0")||"",g.compiledDelimiters,g.delimiters),{}),j=[],h=0,i=c.length;i>h;h++)f=c[h],j.push(a.appendChild(s.createSectionItem(a,f,g)));return j}return"object"!=typeof c?s(a,u("#"===b&&c?a.getAttribute("data-jt-1")||"":"^"!==b||c?"":a.getAttribute("data-jt-0")||"",g.compiledDelimiters,g.delimiters),d,g):Object.getOwnPropertyNames(c).length?(a.innerHTML=s(u(a.getAttribute("data-jt-1")||"",g.compiledDelimiters,g.delimiters),c,g),s.bind(a,d,g)):void 0},i=function(a){return void 0!==a?h(a):void 0},"function"==typeof d[c]&&i(n(d,c,!0,h)),i}},{pattern:"("+d+") "+f,bindTo:function(a){return a},react:function(a,b,c,d,e){var f,g;return f=function(b){var f,g;return a.innerHTML=((null!=(f=e.rootModel)?f[c]:void 0)||d[c]||(null!=(g=s.formatters)?g[c]:void 0)||function(a){return a})(b),"object"==typeof b?s.bind(a,d,e):void 0},g=function(a){return void 0!==a?f(a):void 0},"function"==typeof d[b]&&g(n(d,b,!0,f,c)),g}}],s.compile=function(b,c,d,e,f){var g,h,i,j,k,l,m,n,o,u,v,x,y,z,A,B,C,D,E,F,G,H,I,J;for(D=w("{{ (/?) ("+a+") }}",f.delimiters),v="",o=0;C=D.exec(b);){if(C[1]){if(C[2]!==d)throw new Error(d&&":( expected {{/"+d+"}}, got {{"+C[2]+"}}"||":( unexpected {{/"+C[2]+"}}");return v+b.slice(o,D.lastIndex-C[0].length)}for(z=b.slice(Math.max(0,o-128),D.lastIndex),H=s.compileRules,F=0,G=H.length;G>F;F++)if(x=H[F],n=w(x.pattern,f.delimiters).exec(z)){v+=b.slice(o,D.lastIndex-n[0].length),k=t(v),h=x.bindingToken.apply(x,n.slice(1)),null!=x.replaceWith?(e?v+=("function"==typeof x.echoReplaceWith?x.echoReplaceWith.apply(x,n.slice(1)):void 0)||n[0]:(I=x.replaceWith.apply(x,n.slice(1).concat([c])),u=I[0],E=I[1],-1===k&&null!=x.wrapper?(A=f[x.wrapper],v+=p(q("<"+A+">"+u+"</"+A+">",h),E)):(v+=u,v=v.slice(0,k)+p(q(v.slice(k),h),E))),o=D.lastIndex):(B=s.compile(b.slice(D.lastIndex),c,n[1],!0,f),D.lastIndex+=B.length,i=D.exec(b),o=D.lastIndex,e?v+=C[0]+B+i[0]:(y=n[1],g=[B,c].concat(n.slice(1)).concat([f]),J=x.contents.apply(x,g),j=J[0],E=J[1],-1===k?(A=f[x.wrapper],y!==m?(l=v.length,v+=p(q("<"+A+">"+j+"</"+A+">",h),E)):v=v.slice(0,l)+p(q(v.slice(l),h),E,j.trim())):(v=v.slice(0,k)+p(q(v.slice(k),h),E)+j.trim(),l=k),m=("function"==typeof x.lastTag?x.lastTag(c,y):void 0)||null));break}}return v+=b.slice(o),f.asArrayItem?r(v)?v:(A=f.defaultSectionItem,"<"+A+">"+v+"</"+A+">"):v},q=function(b,e){var f,h,i;return h=w("^ ("+g+" < "+d+") ("+a+") "+c).exec(b),f=(h[3]||"").length,i=h[1].length+h[2].length+f,b.slice(0,i)+(f?('data-jt="'===h[3].trim()?"":" ")+e:' data-jt="'+e+'"')+b.slice(i)},p=function(b,c,e){var f,h,i;return c.length?(f=w("^ ("+g+" < "+d+" "+a+")>").exec(b),i=f[1].length,b.slice(0,i)+[function(){var a,b,d;for(d=[],a=0,b=c.length;b>a;a++)h=c[a],d.push(" "+h[0]+'="'+h[1].replace(/"/g,"&quot;").replace(/>/g,"&gt;").replace(/</g,"&lt;")+'"');return d}()].join("")+">"+(e||"")+b.slice(i+1)):b},t=function(a){return a.trimRight().search(w("< "+d+" [^>]*? >?$"))},r=function(b){return!!b.trim().match(w("^<("+d+") "+g+"        [^>]*? > "+a+" </\\1>$ | < [^>]*? />$"))},s.postbind=function(b){var c,d,e;return"function"==typeof b["#"]&&b["#"].apply(b),d=Object.getOwnPropertyNames(b),e=d.filter(function(b){return w("#"+a).exec(b)}),e.length&&window?(c=function(){var a,c,d,f,g;for(g=[],d=0,f=e.length;f>d;d++)c=e[d],y.call(c,"(")>=0?(a=new RegExp(c,"g").exec(window.location.hash),a&&"function"==typeof b[c]?g.push(b[c].apply(b,a.slice(1))):g.push(void 0)):c===window.location.hash&&"function"==typeof b[c]?g.push(b[c].apply(b)):g.push(void 0);return g},c(),window.addEventListener("hashchange",c)):void 0},s.bind=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,x;if(e=a.getAttribute("data-jt"))for(r=e.trim().split(" "),l=0,o=r.length;o>l;l++)for(f=r[l],t=s.bindRules,m=0,p=t.length;p>m;m++)if(k=t[m],g=w(k.pattern).exec(f)){i=k.react.apply(k,[a].concat(g.slice(1),[b,c])),h="function"==typeof k.bindTo?k.bindTo.apply(k,g.slice(1)):void 0,void 0===b[h]&&(b[h]=null),v(b,h,i),j="function"==typeof k.recurseContext?k.recurseContext.apply(k,g.slice(1).concat([b])):void 0;break}if(null!==j){for(u=a.children,x=[],n=0,q=u.length;q>n;n++)d=u[n],x.push(s.bind(d,j||b,c));return x}},m=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},w=function(a,b){return a=a.replace(/\s+/g,""),new RegExp(b?a.replace("{{",m(b[0])).replace("}}",m(b[1])):a,"g")},n=function(a,b,c,d,e){var f,g,h;return e=e||function(a){return a},g=function(b){var c;return c=a[b],e("function"==typeof c?c.call(g):c)},f=function(c){var d;return null==(d=a.__dependents)[c]&&(d[c]=[]),-1===a.__dependents[c].indexOf(b)&&a.__dependents[c].push(b),g(c)},"."===b?e(a):(h=a[b],"function"==typeof h?h.call(c?(null!=a.__dependents?a.__dependents:a.__dependents={},f):g,d):e(h))},l=function(a){return(null!=a&&a||"").toString().replace(/[&"<>\\]/g,function(a){return{"&":"&amp;","\\":"\\\\",'"':'"',"<":"&lt;",">":"&gt;"}[a]})},u=function(a,b,c){var d,e,f,g;for(e=f=0,g=b.length;g>f;e=++f)d=b[e],a=a.replace(w(m(d)),c[e]);return a},s.createSectionItem=k=function(a,b,c){var d;return void 0===b&&(b={}),d=document.createElement("body"),d.innerHTML=s(u(a.getAttribute("data-jt-1")||"",c.compiledDelimiters,c.delimiters),b),d=d.children[0],"object"==typeof b&&s(d,d.innerHTML,b,c),d},s.hasClass=o=function(a,b){return new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)},s.addClass=i=function(a,b){return o(a,b)?void 0:a.className+=(a.className&&" "||"")+b},s.removeClass=x=function(a,b){return o(a,b)?a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)"),"").replace(/^\s+|\s+$/g,""):void 0},v=function(a,b,c){var d;if(a&&b&&c)return d=Object.getOwnPropertyDescriptor(a,b)||Object.getOwnPropertyDescriptor(a.constructor.prototype,b),Object.defineProperty(a,b,{get:d.get||function(){return d.value},set:function(e){var f,g,h,i,j,k;for((g=null!=e?e.__signal:void 0)?(e=n(g.obj,g.prop,!0,c),void 0!==e&&c(e)):("object"==typeof e&&!Array.isArray(e)||"function"!=typeof d.set?"function"==typeof d.value?d.value.call(function(b,c){return a[b]=c},e):d.value=e:d.set(e),c(e)),k=(null!=(j=a.__dependents)?j[b]:void 0)||[],h=0,i=k.length;i>h;h++)f=k[h],a[f]={__signal:{obj:a,prop:f}}},configurable:!0})},s.bindArrayToNodeChildren=j=function(a,b,c){var d,e,f,g,h,i;if(!a.__nodes)for(g=function(a){return function(){var d,e;for(this.length||(b.innerHTML=""),d=this.__nodes.length;--d;)this.__nodes[d].parentNode||this.__nodes.splice(d,1);return e=a.apply(this,arguments),this.length||(b.innerHTML=s(u(b.getAttribute("data-jt-0")||"",c.compiledDelimiters,c.delimiters),{})),e}},a.pop=g(function(){var a,c,d;for(d=this.__nodes,a=0,c=d.length;c>a;a++)b=d[a],b.removeChild(b.children[b.children.length-1]);return[].pop.apply(this,arguments)}),a.push=g(function(){var a,e,f,g,h;for(a=arguments[0],h=this.__nodes,f=0,g=h.length;g>f;f++)b=h[f],b.appendChild(k(b,a,c));return e=[].push.apply(this,arguments),d(a,this.length-1),e}),a.reverse=g(function(){var a,e,f,g,h,i;for(i=this.__nodes,f=0,h=i.length;h>f;f++)for(b=i[f],b.innerHTML="",a=g=this.length-1;g>=0;a=g+=-1)e=this[a],b.appendChild(k(b,e,c)),d(e,a);return[].reverse.apply(this,arguments)}),a.shift=g(function(){var a,c,e,f,g,h,i,j;for(j=this.__nodes,f=0,h=j.length;h>f;f++)b=j[f],b.removeChild(b.children[0]);for(e=[].shift.apply(this,arguments),a=g=0,i=this.length;i>g;a=++g)c=this[a],d(c,a);return e}),a.unshift=g(function(){var a,e,f,g,h,i,j,l,m,n,o;for(n=[].slice.call(arguments).reverse(),g=0,j=n.length;j>g;g++)for(e=n[g],o=this.__nodes,h=0,l=o.length;l>h;h++)b=o[h],b.insertBefore(k(b,e,c),b.children[0]);for(f=[].unshift.apply(this,arguments),a=i=0,m=this.length;m>i;a=++i)e=this[a],d(e,a);return f}),a.sort=g(function(){var a,e,f,g,h,i,j,l,m,n;for([].sort.apply(this,arguments),m=this.__nodes,f=0,i=m.length;i>f;f++)for(b=m[f],b.innerHTML="",a=g=0,j=this.length;j>g;a=++g){for(e=this[a],n=this.__nodes,h=0,l=n.length;l>h;h++)b=n[h],b.appendChild(k(b,e,c));d(e,a)}return this}),a.splice=g(function(a,e){var f,g,h,i,j,l,m,n,o;for(n=this.__nodes,h=0,l=n.length;l>h;h++){for(b=n[h],f=i=0;e>=0?e>i:i>e;f=e>=0?++i:--i)b.removeChild(b.children[a]);for(o=[].slice.call(arguments,2),j=0,m=o.length;m>j;j++)g=o[j],b.insertBefore(k(b,g,c),b.children[a]),d(g,a)}return[].splice.apply(this,arguments)}),d=function(d,e){return a.__values[e]=d,Object.defineProperty(a,e,{get:function(){return this.__values[e]},set:g(function(a){var d,f,g,h;for(this.__values[e]=a,g=this.__nodes,h=[],d=0,f=g.length;f>d;d++)b=g[d],h.push(b.replaceChild(k(b,a,c),b.children[e]));return h})})},Object.defineProperty(a,"__nodes",{enumerable:!1,writable:!0,value:[]}),Object.defineProperty(a,"__values",{enumerable:!1,writable:!0,value:[]}),e=h=0,i=a.length;i>h;e=++h)f=a[e],d(f,e);return-1===a.__nodes.indexOf(b)&&a.__nodes.push(b),a}}.call(this);