<!doctype html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/baseline.css">
        <link rel="stylesheet" type="text/css" href="css/highlight.css">
    	<style>
    		body {padding: 1% 7% 0 7%; color:#586e75}
    		h1 em {color:#DDD; font-style:normal}
            h2 {margin-top:64px}
            ul {margin-bottom:32px}
            footer {margin:40px 0 10px}
    	</style>
        <title>jtmpl&mdash;MVVM Templating Engine for the Browser</title>
    </head>
    <body>
    	<a href="https://github.com/atmin/jtmpl"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
        <h1><em><code>{{</code></em> <code>jtmpl</code> <em><code>}}</code></em><br>JavaScript MVC micro-framework</h1>
<p><em>Code is work in progress, feel free to explore concept</em></p>
<h2>Why</h2>
<ul>
<li><p>embrace <a href="http://en.wikipedia.org/wiki/Keep_it_simple">KISS</a> and <a href="http://en.wikipedia.org/wiki/Don&#39;t_repeat_yourself">DRY</a></p>
</li>
<li><p>write least amount of code possible</p>
</li>
<li><p>ideas by humans, automation by computers</p>
</li>
</ul>
<h2>How</h2>
<p><code>jtmpl</code> renders Mustache-compatible template using a <code>model</code> object and automatically binds fields (<code>model</code> properties) and events (<code>model</code> functions) to the generated DOM elements.</p>
<p>When model changes, DOM is updated and vice versa. </p>
<p><code>jtmpl</code> accepts tags in HTML comments, so your template can be valid HTML.</p>
<h2>Details</h2>
<ul>
<li><p>it&#39;s a templating engine with simple, but powerful <a href="http://mustache.github.io">syntax</a></p>
<pre><code>  &gt; jtmpl(&#39;Hello, &lt;span&gt;{{who}}&lt;/span&gt;&#39;, { who: &#39;server&#39; })

  Hello, &lt;span data-jtmpl=&#39;...&#39;&gt;server&lt;/span&gt;</code></pre>
<ul>
<li><p><em>fundamental limitation is the contents of each <a href="http://mustache.github.io/mustache.5.html">section</a> must be valid structural HTML, you cannot freely mix Mustache and HTML tags</em></p>
</li>
<li><p><em>temporary limitation is partials are not currently supported, plans are to support id-based and URL-based partials</em></p>
</li>
</ul>
</li>
<li><p>it&#39;s a <a href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">MVC</a> micro-framework for the browser</p>
<pre><code>  &lt;!-- View --&gt;
  &lt;div id=jtmpl data-model=model&gt;
      &lt;span&gt;{{field}}&lt;/span&gt;
      &lt;a href=# onclick={{eventHandler}}&gt;set &quot;bar&quot;&lt;/a&gt;
  &lt;div&gt;

  &lt;!-- Model and Controller --&gt;
  &lt;script&gt;
      model = {
          field: &#39;foo&#39;,
          eventHandler: function() {
              this.field = &#39;bar&#39;;
          }
      }
  &lt;/script&gt;

  &lt;!-- do the dirty work (`jtmpl` will detect `div[id=jtmpl][data-model=model]`) --&gt;
  &lt;script src=&quot;js/jtmpl.min.js&quot;&gt;&lt;/script&gt;

  &lt;!-- or to invoke manually: `jtmpl(&#39;#target-id&#39;, &#39;#template-id&#39;, model)` --&gt;</code></pre>
</li>
<li><p>based on <a href="http://updates.html5rocks.com/2012/11/Respond-to-change-with-Object-observe">Object.observe</a></p>
</li>
<li><p>no dependencies, <a href="https://github.com/jdarling/Object.observe">polyfill</a> built-in</p>
</li>
<li><p>IE 8+, Firefox, Chrome, Opera</p>
</li>
<li><p>Downloads: <a href="src/coffee/jtmpl.coffee">jtmpl.coffee</a>, <a href="js/jtmpl.js">jtmpl.js</a>, <a href="js/jtmpl.min.js">jtmpl.min.js</a></p>
</li>
</ul>
<h2>Kitchen Sink</h2>
<p>Showcase of all features, tests</p>
<p><a href="kitchensink.html">Link to example</a></p>
<pre><code>$ kitchensink.html

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/baseline.css&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/qunit.css&quot;&gt;
    &lt;style&gt;
        h2, h3 {margin-top: 64px}
        body {padding: 1% 7%; color:#586e75}
    &lt;/style&gt;
    &lt;script src=&quot;js/qunit.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id=&quot;jtmpl&quot; data-model=&quot;model&quot;&gt;

        &lt;h1&gt;Kitchen Sink&lt;/h1&gt;
        &lt;h2&gt;Feature explorer&lt;/h2&gt;
        &lt;p&gt;
            Feel free to modify &lt;code&gt;model&lt;/code&gt; from JS console and observe changes.
        &lt;/p&gt;

        &lt;h3&gt;Collection&amp;mdash;&lt;code&gt;model.collection&lt;/code&gt;&lt;/h3&gt;
        &lt;ul&gt;
            {{#collection}}
            &lt;li&gt;type &lt;code&gt;{{type}}&lt;/code&gt;, value &lt;code&gt;{{value}}&lt;/code&gt;&lt;/li&gt;
            {{/collection}}
            {{^collection}}
            &lt;li&gt;&amp;lt; empty &amp;gt;&lt;/li&gt;
            {{/collection}}
        &lt;/ul&gt;
        &lt;button onclick={{add}}&gt;Add random&lt;/button&gt;
        &lt;button onclick=&quot;{{remove}}&quot;&gt;Remove last&lt;/button&gt;

        &lt;h3&gt;Toggle text&amp;mdash;&lt;code&gt;model.text&lt;/code&gt;&lt;/h3&gt;
        &lt;a href=&quot;#&quot; onclick=&#39;{{toggle}}&#39;&gt;Toggle&lt;/a&gt;
        &lt;p&gt;
            {{text}}
        &lt;/p&gt;

        &lt;h3&gt;innerHTML&amp;mdash;&lt;code&gt;model.innerHTML&lt;/code&gt;&lt;/h3&gt;
        &lt;div&gt;
            &lt;!-- {{{innerHTML}}} --&gt;     
            &lt;!-- previous comment will be stripped, but this won&#39;t --&gt;
        &lt;/div&gt;

        &lt;h3&gt;Data binding&amp;mdash;&lt;code&gt;model.field&lt;/code&gt;&lt;/h3&gt;
        &lt;label for=&quot;field&quot;&gt;Enter something&lt;/label&gt; &lt;input id=&quot;field&quot; value={{field}}&gt;
        &lt;p&gt;
            {{#field}}
            You entered &quot;&lt;span&gt;{{field}}&lt;/span&gt;&quot;. Delete it and this message will disappear
            {{/field}}
        &lt;/p&gt;

        &lt;h3&gt;Checkboxes&amp;mdash;&lt;code&gt;model.checkboxes&lt;/code&gt;&lt;/h3&gt;
        &lt;div&gt;
            {{#checkboxes}}
            &lt;label&gt;&lt;input type=&quot;checkbox&quot; checked={{fooCheck}}&gt; check foo&lt;/label&gt;
            &lt;label&gt;&lt;input type=&quot;checkbox&quot; checked={{barCheck}}&gt; check bar&lt;/label&gt;
            {{/checkboxes}}
        &lt;/div&gt;

        &lt;h3&gt;Select&amp;mdash;&lt;code&gt;model.selectedIndex&lt;/code&gt;&lt;/h3&gt;
        &lt;select selectedIndex={{selectedIndex}}&gt;
            {{#options}}
            &lt;option&gt;{{text}}&lt;/option&gt;
            {{/options}}
        &lt;/select&gt;

        &lt;h3&gt;Radio group&amp;mdash;&lt;code&gt;model.options&lt;/code&gt;&lt;/h3&gt;
        &lt;p&gt;
            &lt;em&gt;&amp;lt;select&amp;gt; is bound to&lt;/em&gt; &lt;code&gt;model.options&lt;/code&gt;
        &lt;/p&gt;
        &lt;div&gt;
            {{#options}}
            &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;radio-group&quot; checked={{checked}}&gt;{{text}}&lt;/label&gt;
            {{/options}}
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;script&gt;
        model = {
            text: &#39;lowercase&#39;,

            collection: [
                {
                    type: &#39;string&#39;,
                    value: &#39;foobar&#39;
                },
                {
                    type: &#39;int&#39;,
                    value: 1
                },
                {
                    type: &#39;float&#39;,
                    value: 0.42
                },
                {
                    type: &#39;boolean&#39;,
                    value: true
                }
            ],

            field: null,

            innerHTML: &#39;&lt;p&gt;Hi, how are you?&lt;/p&gt;&#39;,

            options: [
                {
                    checked: true,
                    text: &#39;one&#39; 
                },
                {
                    checked: false,
                    text: &#39;two&#39;
                },
                {
                    checked: false,
                    text: &#39;three&#39;
                }
            ],

            selectedIndex: 0,

            checkboxes: {
                fooCheck: true,
                barCheck: false
            },


            // event handlers
            toggle: function() {
                this.text = this.text == &#39;lowercase&#39; ?
                    &#39;UPPERCASE&#39;: &#39;lowercase&#39;;
            },
            add: function() {
                this.collection.push(Math.random());
            },
            remove: function() {
                this.collection.pop();
            }
        };
    &lt;/script&gt;
    &lt;script src=&quot;js/jtmpl.js&quot;&gt;&lt;/script&gt;

    &lt;h2&gt;QUnit Tests&lt;/h2&gt;
    &lt;div id=&quot;qunit&quot;&gt;&lt;/div&gt;
    &lt;div id=&quot;qunit-fixture&quot;&gt;&lt;/div&gt;
    &lt;script src=&quot;js/jtmpl-tests.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

        <footer>
            Copyright &copy; 2013 Atanas Minev, <a href="LICENSE">MIT license</a>
        </footer>
        <script src="js/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>