
<!doctype html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/baseline.css">
	<link rel="stylesheet" type="text/css" href="css/qunit.css">
	<style>
		h2, h3 {margin-top: 64px}
		body {padding: 1% 7%; color:#586e75}
		.bound-class {
			color:red;
			-webkit-transition:color 0.5s ease-in;  
			-moz-transition:color 0.5s ease-in;  
			-o-transition:color 0.5s ease-in;  
			transition:color 0.5s ease-in;
		}
	</style>
	<script src="js/qunit.js"></script>
</head>

<body>
	<div id="jtmpl" data-model="model">

		<h1>Kitchen Sink</h1>
		<h2>Feature explorer</h2>
		<a href=#qunit>Tests</a>
		<p>
			Feel free to modify <code>model</code> from JS console and observe changes.
		</p>

		<h3>Collection&mdash;<code>model.collection</code></h3>
		<ul class="dummy-class just for the_test">
			{{#collection}}
			<li>type: <code>{{type}}</code>, value: <code>{{value}}</code></li>
			{{/collection}}
			{{^collection}}
			<li>&lt; empty &gt;</li>
			{{/collection}}
		</ul>
		<button onclick={{add}}>Add random</button>
		<button onclick="{{remove}}" disabled={{removeDisabled}}>Remove last</button>

		<h3>Toggle text&mdash;<code>model.text</code></h3>
		<a href="#" onclick='{{toggle}}'>Toggle</a>
		<p>
			{{text}}
		</p>

		<h3>innerHTML&mdash;<code>model.innerHTML</code></h3>
		<div><!-- {{{innerHTML}}} --></div>
		<!-- `jtmpl` accepts tags in HTML comments and automatically strips them -->

		<h3>Data binding&mdash;<code>model.field</code></h3>
		<label for="field">Enter something</label> <input id="field" value={{field}}>
		<p>
			{{#field}}
			You entered "{{field}}". Delete it and this message will disappear
			{{/field}}
		</p>

		<h3>Data binding, toggle class&mdash;<code>model.field</code></h3>
		<div>
			<a href=# class="try2confuse-the_parser {{bound-class}}" onclick="{{toggleClass}}">Toggle me</a>
		</div>

		<h3>Checkboxes&mdash;<code>model.checkboxes</code></h3>
		{{#checkboxes}}
			<label><input type="checkbox" checked={{fooCheck}}> check foo</label>
			<label><input type="checkbox" checked={{barCheck}}> check bar</label>
		{{/checkboxes}}

		<h3>Select&mdash;<code>model.options</code></h3>
		<select>
			{{#options}}
			<option selected={{checked}}>{{text}}</option>
			{{/options}}
		</select>

		<h3>Radio group&mdash;<code>model.options</code></h3>
		<div>
			{{#options}}
			<label><input type="radio" name="radio-group" checked={{checked}}>{{text}}</label>
			{{/options}}
		</div>
	</div>

	<script>
		model = {
			text: 'lowercase',

			collection: [
				{
					type: 'string',
					value: 'foobar'
				},
				{
					type: 'int',
					value: 1
				},
				{
					type: 'float',
					value: 0.42
				},
				{
					type: 'boolean',
					value: true
				}
			],

			removeDisabled: false,

			field: '',

			'bound-class': true,

			toggleClass: function(e) {
				this['bound-class'] = !this['bound-class'];
				e.preventDefault();
			},

			innerHTML: '<p>Hi, how are you?</p>',

			options: [
				{
					checked: false,
					text: 'one' 
				},
				{
					checked: true,
					text: 'two'
				},
				{
					checked: false,
					text: 'three'
				}
			],

			checkboxes: {
				fooCheck: true,
				barCheck: false
			},


			// event handlers
			toggle: function() {
				this.text = this.text == 'lowercase' ?
					'UPPERCASE': 'lowercase';
			},
			add: function() {
				this.collection.push({
					type: 'float',
					value: Math.random()
				});
				this.removeDisabled = false;
			},
			remove: function() {
				this.collection.pop();
				this.removeDisabled = this.collection.length == 0;
			}
		};
	</script>
	<script src="js/jtmpl.js"></script>
	<!-- hey, this next line is temporarily here, it's work in progress, remember? :) -->
	<script>jtmpl('#jtmpl', '#jtmpl', model)</script>

	<h2>QUnit Blackbox Tests</h2>
	<div id="qunit"></div>
	<div id="qunit-fixture"></div>
	<script src="js/tests.js"></script>
</body>
</html>
