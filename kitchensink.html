<!doctype html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/baseline.css">
	<link rel="stylesheet" type="text/css" href="css/qunit.css">
	<script src="js/jtmpl.js"></script>
	<script src="js/qunit.js"></script>
</head>

<body>
	<h1>Kitchen Sink</h1>
	<p>Demo of each jtmpl feature. Feel free to modify <code>model</code> from JS console and observe changes</p>

	<script src="js/jtmpl.js"></script>

	<!-- view target -->
	<div id="view-target"></div>

	<!-- view -->
	<script id="view-template" type="text/html">
		<h5>model.array</h5>
		<ul>
			{{#array}}
			<li>{{.}}</li>
			{{/array}}
			{{^array}}
			<li>&lt; empty &gt;</li>
			{{/array}}
		</ul>
		<a href="#" id="addToArray">Add random element to model.array</a>
		<a href="#" id="removeLastFromArray">Remove last model.array element</a>

		<h5>model.objArray</h5>
		<ul>
			{{#objArray}}
			<li>{ f1: "<span>{{f1}}</span>", f2: "<span>{{f2}}</span>" }</li>
			{{/objArray}}
			{{^objArray}}
			<li>&lt; empty &gt;</li>
			{{/objArray}}
		</ul>
	
		<a href="#" id="toggleDynamicTextCase">Toggle</a>
		<p>{{dynamicText}}</p>

		<label for="field">Enter something</label> <input id="field" value="{{field}}">
		<p>{{#field}}
			You entered "<span>{{field}}</span>". Delete it and this message will disappear
		{{/field}}</p>

		<h5>model.checkboxes</h5>
		<div>
			{{#checkboxes}}
			<label><input type="checkbox" checked="{{fooCheck}}"> model.checkboxes.fooCheck</label>
			<label><input type="checkbox" checked="{{barCheck}}"> model.checkboxes.barCheck</label>
			{{/checkboxes}}
		</div>

		<h5>model.selectedIndex</h5>
		<select selectedIndex={{selectedIndex}}>
			<option>model.selectedIndex = 0</option>
			<option>model.selectedIndex = 1</option>
			<option>model.selectedIndex = 2</option>
			<option>model.selectedIndex = 3</option>
		</select>

		<h5>model.radioGroupIndex == <span>{{radioGroupIndex}}</span></h5>
		<div>
			<label><input type="radio" name="radio-group" checked="{{radioGroupIndex}}"> model.radioGroupIndex=0</label>
			<label><input type="radio" name="radio-group" checked="{{radioGroupIndex}}"> model.radioGroupIndex=1</label>
		</div>
	</script>

	<!-- model -->
	<script>
		var model = {
			dynamicText: 'lowercase',
			array: ['one', 'two', 'three'],
			objArray: [
				{
					f1: 'model.objArray[0].f1',
					f2: 'model.objArray[0].f2'
				},
				{
					f1: 'model.objArray[1].f1',
					f2: 'model.objArray[1].f2'
				}
			],
			field: null,

			selectedIndex: 0,

			checkboxes: {
				fooCheck: true,
				barCheck: false
			},

			radioGroupIndex: 1,


			// event handlers
			'#toggleDynamicTextCase:click': function() {
				this.dynamicText = this.dynamicText == 'lowercase' ?
					'UPPERCASE': 'lowercase';
			},
			'#addToArray:click': function() {
				this.array.push(Math.random());
			},
			'#removeLastFromArray:click': function() {
				this.array.pop();
			}
		};

		jtmpl('#view-target', '#view-template', model);
	</script>

	<div id="qunit"></div>
	<div id="qunit-fixture"></div>
	<script src="js/jtmpl-tests.js"></script>
</body>
</html>
